<!DOCTYPE html>
<html data-theme="light" lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1, viewpoint-fit=cover" name="viewport"/>
<meta name="description" content="Curso interactivo de √Ålgebra Lineal - Unidad III: Espacios Vectoriales. Cumple con est√°ndares WCAG 2.2 AA de accesibilidad."/>
<meta name="keywords" content="√°lgebra lineal, espacios vectoriales, subespacios, dependencia lineal, bases, dimensi√≥n, m√©todos de m√≠nimos cuadrados, educaci√≥n, SABES, accesible, WCAG"/>
<meta name="author" content="Universidad del SABES"/>
<title>√Ålgebra Lineal - Unidad III: Espacios Vectoriales | Universidad del SABES</title>

<!-- MathJax Configuration -->
<script>
window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']],
    processEscapes: true,
    tags: 'ams'
  },
  svg: {
    fontCache: 'global'
  },
  startup: {
    ready: function () {
      MathJax.startup.defaultReady();
      console.log('‚úÖ MathJax completamente listo');
      window.mathJaxReady = true;
      // Renderizar el slide actual despu√©s de que MathJax est√© listo
      setTimeout(() => {
        const currentSlideElement = document.querySelector('.slide.active');
        if (currentSlideElement) {
          MathJax.typesetPromise([currentSlideElement]).catch((err) => console.log('MathJax error:', err));
        }
      }, 100);
    }
  }
};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<style>
/* ======= IMPORTACI√ìN DE FUENTES ======= */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&family=JetBrains+Mono:wght@400;700&display=swap');

/* ======= FOCO VISIBLE (WCAG 2.4.7 - AA) ======= */
*:focus {
  outline: 3px solid var(--accent);
  outline-offset: 2px;
}

button:focus,
a:focus,
input:focus,
.quiz-option:focus {
  outline: 3px solid #f57c00;
  outline-offset: 3px;
  box-shadow: 0 0 0 4px rgba(245, 124, 0, 0.2);
}

.control-btn:focus {
  outline: 3px solid #ffffff;
  outline-offset: 2px;
  box-shadow: 0 0 0 5px rgba(245, 124, 0, 0.4);
}

.nav-btn:focus {
  outline: 3px solid #f57c00;
  outline-offset: 2px;
  transform: scale(1.05);
}

/* Skip to main content link (invisible hasta que recibe foco) */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--accent);
  color: white;
  padding: 10px 20px;
  text-decoration: none;
  font-weight: bold;
  z-index: 10000;
  border-radius: 0 0 8px 0;
}

.skip-link:focus {
  top: 0;
}

/* ======= SKIP LINK (WCAG 2.4.1) ======= */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: #f57c00;
  color: white;
  padding: 12px 20px;
  text-decoration: none;
  font-weight: bold;
  z-index: 10000;
  border-radius: 0 0 8px 0;
}

.skip-link:focus {
  top: 0;
  outline: 3px solid #ffffff;
  outline-offset: 2px;
}

/* ======= FOCO VISIBLE MEJORADO (WCAG 2.4.7 y 2.4.11) ======= */
*:focus {
  outline: 3px solid var(--primary);
  outline-offset: 2px;
}

*:focus:not(:focus-visible) {
  outline: none;
}

*:focus-visible {
  outline: 3px solid var(--primary);
  outline-offset: 2px;
  box-shadow: 0 0 0 5px rgba(37, 99, 235, 0.2);
}

button:focus-visible,
a:focus-visible,
input:focus-visible {
  outline: 3px solid #f57c00;
  outline-offset: 2px;
  box-shadow: 0 0 0 5px rgba(245, 124, 0, 0.2);
}

[data-theme="dark"] *:focus-visible {
  outline-color: var(--secondary);
  box-shadow: 0 0 0 5px rgba(0, 212, 170, 0.2);
}

/* ======= MODO ALTO CONTRASTE (WCAG 2.2) ======= */
@media (prefers-contrast: high) {
  :root {
    --primary: #0000ff;
    --secondary: #008000;
    --accent: #ff8800;
  }
  
  [data-theme="light"] {
    --ink: #000000;
    --bg: #ffffff;
    --muted: #000000;
  }
  
  [data-theme="dark"] {
    --ink: #ffffff;
    --bg: #000000;
    --muted: #ffffff;
  }
  
  .card, .definition-box, .example-box {
    border: 2px solid currentColor !important;
  }
}

/* ======= RESPETO A PREFERENCIAS DE MOVIMIENTO (WCAG 2.2) ======= */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  .slide {
    transition: none !important;
  }
  
  .particle, .symbol, .brackets {
    animation: none !important;
  }
}

/* ======= VARIABLES CSS ======= */
:root{ 
  --base-font:16px; 
  --bg:#1a1f2e;
  --panel:#2a3142ee;
  --ink:#ffffff;
  --muted:#94a3b8;
  --primary:#6496fa;
  --secondary:#00d4aa;
  --accent:#ffd60a;
  --success:#06d6a0;
  --warn:#ffbe0b;
  --danger:#ef476f;
  --steel:#64748b;
  --grad-primary: linear-gradient(135deg, #6496fa 0%, #00d4aa 100%);
}

[data-theme="light"] {
  --bg:#f8fafc;
  --panel:#ffffff;
  --ink:#1e293b;
  --muted:#475569;
  --primary:#2563eb;
  --secondary:#059669;
  --accent:#d97706;
  --success:#059669;
  --warn:#d97706;
  --danger:#dc2626;
  --steel:#64748b;
}

*{box-sizing:border-box;margin:0;padding:0;}
html,body{min-height:100vh;font-size:var(--base-font);line-height:1.65;}

body{
  font-family:'Inter',sans-serif;
  color:var(--ink);
  background:var(--bg);
  min-height:100vh;
  padding:0;
  overflow-x: hidden;
  transition: all 0.3s ease;
}

/* ======= BANNER SUPERIOR SABES ======= */
.banner-sabes {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 90px;
  width: 100%;
  position: fixed;
  top: 0;
  z-index: 1000;
  background: linear-gradient(120deg, #b56c13 0%, #e39a27 25%, #5ca8eb 70%, #a7d3f9 100%);
  backdrop-filter: blur(10px) saturate(180%);
  background-blend-mode: overlay;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25);
  border-bottom: 2px solid rgba(255, 255, 255, 0.15);
}
.banner-sabes img {
  height: 88px;
  width: auto;
  object-fit: contain;
  opacity: 0.98;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

/* ======= BARRAS LATERALES SABES ======= */
.sidebar {
  position: fixed;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  gap: 15px;
  z-index: 900;
  padding: 10px;
  border-radius: 16px;
  backdrop-filter: blur(10px) saturate(180%);
  background: rgba(255, 255, 255, 0.15);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25);
}
.left-bar { left: 15px; }
.right-bar { right: 15px; }

.control-btn {
  width: 54px;
  height: 54px;
  border-radius: 50%;
  border: none;
  background: #f57c00;
  color: white;
  font-size: 24px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  cursor: pointer;
  transition: transform 0.3s ease, background 0.3s ease;
}
.control-btn:hover {
  transform: scale(1.15) rotate(5deg);
  background: #ff9800;
}

/* ======= BARRA DE PROGRESO ======= */
.progress-bar {
  position: fixed;
  top: 90px;
  left: 0;
  width: 100%;
  height: 4px;
  background: rgba(100, 150, 250, 0.2);
  z-index: 999;
}

.progress {
  height: 100%;
  background: var(--grad-primary);
  width: 0%;
  transition: width 0.3s ease;
}

/* ======= MODAL SABES ======= */
.modal {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--panel);
  color: var(--ink);
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
  z-index: 2000;
  width: 60%;
  max-width: 500px;
  border: 2px solid rgba(100, 150, 250, 0.3);
  max-height: 80vh;
  overflow-y: auto;
}
.modal.active {
  display: block;
  animation: fadeIn 0.5s ease forwards;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translate(-50%, -60%); }
  to { opacity: 1; transform: translate(-50%, -50%); }
}

.modal h3 {
  margin-bottom: 15px;
  color: var(--primary);
}

.modal button {
  margin-top: 20px;
  padding: 10px 20px;
  background: var(--primary);
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
}

.modal button:hover {
  background: var(--secondary);
}

/* ======= CONTROLES DE NAVEGACI√ìN INFERIOR ======= */
.nav-btn {
  background: #2563eb;
  color: white;
  border: none;
  border-radius: 12px;
  padding: 14px 24px;
  cursor: pointer;
  font-weight: 600;
  font-size: 15px;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 110px;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3);
}

.nav-btn:hover:not(:disabled) {
  background: #1d4ed8;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
}

.nav-btn:active:not(:disabled) {
  transform: translateY(0);
  box-shadow: 0 1px 4px rgba(37, 99, 235, 0.3);
}

[data-theme="dark"] .nav-btn {
  background: #3b82f6;
}

[data-theme="dark"] .nav-btn:hover:not(:disabled) {
  background: #2563eb;
}

.nav-btn:disabled {
  background: #64748b;
  color: #ffffff;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
  opacity: 0.6;
}

[data-theme="light"] .nav-btn:disabled {
  background: #94a3b8;
  color: #1e293b;
}

/* ======= SLIDES CONTAINER ======= */
.slides-container {
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  position: relative;
  padding-top: 94px;
}

.slide {
  position: absolute;
  top: 94px;
  left: 0;
  width: 100%;
  height: calc(100% - 94px);
  padding: 40px 100px 140px 100px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  opacity: 0;
  transform: translateX(100%);
  transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  overflow-y: auto;
}

.slide.active {
  opacity: 1;
  transform: translateX(0);
}

.slide.previous {
  transform: translateX(-100%);
}

/* ======= PORTADA MEJORADA ======= */
.cover-slide {
  text-align: center;
  background: 
    radial-gradient(circle at 20% 80%, rgba(100, 150, 250, 0.15) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(0, 212, 170, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(255, 214, 10, 0.05) 0%, transparent 50%),
    linear-gradient(135deg, var(--bg) 0%, color-mix(in srgb, var(--bg) 70%, var(--primary) 30%) 100%);
  position: relative;
  overflow: hidden;
}

[data-theme="light"] .cover-slide {
  background: 
    radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(16, 185, 129, 0.08) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(245, 158, 11, 0.05) 0%, transparent 50%),
    linear-gradient(135deg, var(--bg) 0%, color-mix(in srgb, var(--bg) 90%, var(--primary) 10%) 100%);
}

/* Grid de fondo animado */
.matrix-grid-bg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    linear-gradient(rgba(100, 150, 250, 0.1) 1px, transparent 1px),
    linear-gradient(90deg, rgba(100, 150, 250, 0.1) 1px, transparent 1px);
  background-size: 50px 50px;
  animation: gridMove 20s linear infinite;
  opacity: 0.3;
}

[data-theme="light"] .matrix-grid-bg {
  background-image: 
    linear-gradient(rgba(59, 130, 246, 0.15) 1px, transparent 1px),
    linear-gradient(90deg, rgba(59, 130, 246, 0.15) 1px, transparent 1px);
}

@keyframes gridMove {
  0% { transform: translate(0, 0); }
  100% { transform: translate(50px, 50px); }
}

/* Part√≠culas flotantes */
.particles {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.particle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: var(--primary);
  border-radius: 50%;
  animation: particleFloat 8s linear infinite;
}

@keyframes particleFloat {
  0% {
    transform: translateY(100vh) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-100px) rotate(360deg);
    opacity: 0;
  }
}

.floating-symbols {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.symbol {
  position: absolute;
  font-family: 'JetBrains Mono', monospace;
  font-size: 24px;
  color: rgba(100, 150, 250, 0.6);
  animation: float 6s ease-in-out infinite;
}

[data-theme="light"] .symbol {
  color: rgba(59, 130, 246, 0.5);
}

.symbol:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
.symbol:nth-child(2) { top: 80%; left: 85%; animation-delay: 1s; }
.symbol:nth-child(3) { top: 60%; left: 15%; animation-delay: 2s; }
.symbol:nth-child(4) { top: 30%; left: 90%; animation-delay: 3s; }
.symbol:nth-child(5) { top: 70%; left: 70%; animation-delay: 4s; }
.symbol:nth-child(6) { top: 40%; left: 5%; animation-delay: 5s; }

@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  50% { transform: translateY(-20px) rotate(180deg); }
}

/* T√≠tulos portada */
.cover-title {
  font-size: clamp(3rem, 6vw, 5rem);
  font-weight: 900;
  background: linear-gradient(135deg, #1e293b 0%, #2563eb 30%, #059669 70%, #d97706 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 20px;
  position: relative;
  z-index: 2;
  animation: titleGlow 3s ease-in-out infinite alternate;
}

[data-theme="dark"] .cover-title {
  background: linear-gradient(135deg, var(--ink) 0%, var(--primary) 30%, var(--secondary) 70%, var(--accent) 100%);
}

@keyframes titleGlow {
  from { filter: drop-shadow(0 0 20px rgba(37, 99, 235, 0.4)); }
  to { filter: drop-shadow(0 0 40px rgba(37, 99, 235, 0.7)) drop-shadow(0 0 60px rgba(5, 150, 105, 0.5)); }
}

.cover-subtitle {
  font-size: clamp(1.8rem, 4vw, 3rem);
  background: linear-gradient(135deg, #059669 0%, #2563eb 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 700;
  margin-bottom: 40px;
  position: relative;
  z-index: 2;
}

[data-theme="dark"] .cover-subtitle {
  background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
}

.learning-objectives {
  max-width: 800px;
  margin: 40px auto;
  text-align: center;
  position: relative;
  z-index: 2;
  background: rgba(42, 49, 66, 0.7);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  padding: 30px;
  border: 1px solid rgba(100, 150, 250, 0.3);
  box-shadow: 0 20px 40px rgba(0,0,0,0.2);
  animation: slideUp 1s ease-out;
}

[data-theme="light"] .learning-objectives {
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(59, 130, 246, 0.3);
}

@keyframes slideUp {
  from { 
    opacity: 0;
    transform: translateY(30px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

.learning-objectives h3 {
  color: var(--accent);
  margin-bottom: 20px;
  font-size: 1.5rem;
}

.learning-objectives p {
  font-size: 1.1rem;
  line-height: 1.8;
  color: var(--ink);
}

/* ======= BOT√ìN CTA Y BOTONES INFO ======= */
.cta-button {
  margin-top: 50px;
  position: relative;
  z-index: 2;
}

.glow-button {
  background: linear-gradient(135deg, #f57c00 0%, #ff9800 100%);
  color: white;
  border: none;
  border-radius: 50px;
  padding: 18px 40px;
  font-size: 1.2rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(245, 124, 0, 0.3);
}

.glow-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  transition: left 0.5s;
}

.glow-button:hover::before {
  left: 100%;
}

.glow-button:hover {
  transform: translateY(-5px) scale(1.05);
  box-shadow: 0 20px 40px rgba(245, 124, 0, 0.5);
}

/* Botones info naranjas */
.info-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: linear-gradient(135deg, #f57c00 0%, #ff9800 100%);
  color: white;
  border: none;
  border-radius: 25px;
  padding: 10px 20px;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  margin: 10px 5px;
  box-shadow: 0 4px 12px rgba(245, 124, 0, 0.3);
}

.info-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(245, 124, 0, 0.5);
  background: linear-gradient(135deg, #ff9800 0%, #ffa726 100%);
}

.info-btn::before {
  content: '+';
  font-size: 1.2rem;
  font-weight: bold;
}

/* Caja de informaci√≥n expandible */
.info-box {
  display: none;
  background: linear-gradient(135deg, rgba(245, 124, 0, 0.1), rgba(255, 152, 0, 0.1));
  border-left: 4px solid #f57c00;
  padding: 20px;
  border-radius: 12px;
  margin: 15px 0;
  animation: slideDown 0.3s ease-out;
}

.info-box.active {
  display: block;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.info-box h4 {
  color: #f57c00;
  margin-bottom: 10px;
}

.info-box p {
  color: var(--ink);
  line-height: 1.7;
}

/* ======= TARJETAS DE SEMANAS ======= */
.week-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 30px;
  max-width: 1200px;
  margin: 40px auto;
  width: 100%;
}

.week-card {
  background: linear-gradient(145deg, var(--panel), var(--bg));
  border: 2px solid var(--primary);
  border-radius: 20px;
  padding: 30px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  animation: fadeInUp 0.6s ease-out;
}

.week-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 20px 40px rgba(0,0,0,0.3);
  border-color: var(--secondary);
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.week-number {
  font-size: 3rem;
  font-weight: 900;
  color: var(--primary);
  margin-bottom: 15px;
}

.week-title {
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 15px;
  color: var(--secondary);
}

.week-topics {
  font-size: 0.9rem;
  color: var(--muted);
  line-height: 1.8;
  text-align: left;
}

/* ======= CONTENIDO DE SEMANAS ======= */
.content-container {
  max-width: 1200px;
  width: 100%;
  background: linear-gradient(145deg, var(--panel), var(--bg));
  border-radius: 20px;
  padding: 40px;
  border: 1px solid rgba(100, 150, 250, 0.3);
  box-shadow: 0 20px 50px rgba(0,0,0,0.3);
  max-height: 80vh;
  overflow-y: auto;
}

.week-section {
  color: var(--ink);
}

.week-badge {
  display: inline-block;
  background: var(--grad-primary);
  color: white;
  padding: 8px 20px;
  border-radius: 20px;
  font-weight: 700;
  margin-bottom: 20px;
  font-size: 0.9rem;
}

.section-title {
  font-size: 2.5rem;
  font-weight: 900;
  color: var(--primary);
  text-align: center;
  margin-bottom: 20px;
}

/* T√≠tulos */
h1, h2, h3, h4, h5, h6 {
  margin-bottom: 1rem;
  line-height: 1.3;
  color: var(--ink);
}

h2 { font-size: 2rem; font-weight: 700; color: var(--primary); margin-bottom: 1.5rem; }
h3 { font-size: 1.6rem; font-weight: 700; color: var(--secondary); margin-top: 2rem; margin-bottom: 1rem; }
h4 { font-size: 1.3rem; font-weight: 600; color: var(--accent); margin-bottom: 0.8rem; }

p {
  margin-bottom: 1rem;
  color: var(--muted);
  line-height: 1.7;
}

/* ======= TARJETAS Y CAJAS ======= */
.card {
  background: rgba(42, 49, 66, 0.5);
  border-radius: 16px;
  padding: 20px;
  margin: 20px 0;
  border: 1px solid rgba(100, 150, 250, 0.2);
  backdrop-filter: blur(10px);
}

[data-theme="light"] .card {
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(59, 130, 246, 0.2);
}

.definition-box {
  background: linear-gradient(135deg, rgba(100, 150, 250, 0.15) 0%, rgba(0, 212, 170, 0.15) 100%);
  border-left: 4px solid var(--primary);
  padding: 15px;
  border-radius: 8px;
  margin: 15px 0;
}

.example-box {
  background: rgba(0, 212, 170, 0.1);
  border-left: 4px solid var(--secondary);
  padding: 15px;
  border-radius: 8px;
  margin: 15px 0;
}

.citation {
  background: rgba(255, 214, 10, 0.1);
  border-left: 4px solid var(--accent);
  padding: 20px;
  border-radius: 8px;
  margin: 20px 0;
  font-style: italic;
  color: var(--muted);
}

/* ======= LAYOUTS ======= */
.two-col {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  margin: 20px 0;
}

.three-col {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin: 20px 0;
}

/* ======= QUIZ INTERACTIVO ======= */
.quiz-container {
  background: linear-gradient(135deg, rgba(100, 150, 250, 0.15), rgba(0, 212, 170, 0.15));
  border-radius: 20px;
  padding: 30px;
  margin: 40px 0;
  border: 2px solid var(--accent);
}

.quiz-question {
  font-size: 1.2rem;
  font-weight: 600;
  margin-bottom: 15px;
  color: var(--ink);
}

.quiz-options {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 30px;
}

.quiz-option {
  background: var(--panel);
  padding: 15px 20px;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  border: 2px solid transparent;
  color: var(--ink);
}

.quiz-option:hover {
  border-color: var(--primary);
  transform: translateX(5px);
  background: rgba(37, 99, 235, 0.1);
}

[data-theme="light"] .quiz-option:hover {
  background: rgba(37, 99, 235, 0.08);
  border-color: #2563eb;
}

.quiz-option.correct {
  background: rgba(5, 150, 105, 0.2);
  border-color: var(--success);
  color: var(--ink);
}

.quiz-option.incorrect {
  background: rgba(220, 38, 38, 0.2);
  border-color: var(--danger);
  color: var(--ink);
}

/* ======= RESPONSIVE ======= */
@media (max-width: 768px) {
  .slide {
    padding: 40px 20px 140px 20px;
  }
  
  .sidebar {
    display: none;
  }
  
  .nav-btn {
    min-width: 70px;
    padding: 10px 12px;
    font-size: 11px;
  }
  
  .nav-btn span {
    display: none;
  }
  
  .week-grid {
    grid-template-columns: 1fr;
  }
  
  .content-container {
    padding: 20px;
  }
}

/* ======= SCROLLBAR ======= */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: var(--bg);
}

::-webkit-scrollbar-thumb {
  background: var(--primary);
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--secondary);
}

.slide-counter {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 500;
  z-index: 9998;
}

/* ======= CALCULADORA DE MINIMOS CUADRADOS ======= */
.min-squares-calculator {
  background: var(--panel);
  border-radius: 20px;
  padding: 30px;
  margin: 30px 0;
  border: 2px solid var(--primary);
}

.data-table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}

.data-table th, .data-table td {
  padding: 10px;
  text-align: center;
  border: 1px solid var(--primary);
}

.data-table th {
  background: rgba(100, 150, 250, 0.2);
  font-weight: bold;
}

.data-input {
  width: 80px;
  padding: 8px;
  text-align: center;
  border: 2px solid var(--primary);
  border-radius: 8px;
  background: var(--bg);
  color: var(--ink);
}

.calc-btn {
  background: linear-gradient(135deg, #f57c00 0%, #ff9800 100%);
  color: white;
  border: none;
  border-radius: 8px;
  padding: 10px 20px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  margin: 10px 5px;
}

.calc-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(245, 124, 0, 0.3);
}

.calc-result {
  background: rgba(0, 212, 170, 0.1);
  border-left: 4px solid var(--secondary);
  padding: 15px;
  border-radius: 8px;
  margin: 15px 0;
  font-family: 'JetBrains Mono', monospace;
}
</style>
</head>

<body data-theme="light">

<!-- Skip to main content link (WCAG 2.4.1) -->
<a href="#main-content" class="skip-link">Saltar al contenido principal</a>

<!-- ======= BANNER SUPERIOR SABES ======= -->
<header class="banner-sabes" role="banner">
  <img src="https://fnjimenez.github.io/curso_algebra_lineal/barrasuperior.png" alt="Universidad del SABES - Sistema Avanzado de Bachillerato y Educaci√≥n Superior" />
</header>

<!-- ======= BARRA DE PROGRESO ======= -->
<div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" aria-label="Progreso de la presentaci√≥n">
  <div class="progress" id="progress"></div>
</div>

<!-- ======= BARRA LATERAL IZQUIERDA ======= -->
<div class="sidebar left-bar">
  <button id="btn-home" class="control-btn" title="Inicio">üè†</button>
  <button id="btn-prev" class="control-btn" title="Anterior">‚¨ÖÔ∏è</button>
  <button id="btn-access" class="control-btn" title="Accesibilidad">‚ôø</button>
  <button id="btn-help" class="control-btn" title="Ayuda">‚ùì</button>
</div>

<!-- ======= BARRA LATERAL DERECHA ======= -->
<div class="sidebar right-bar">
  <button id="btn-theme" class="control-btn" title="Cambiar tema">üåô</button>
  <button id="btn-next" class="control-btn" title="Siguiente">‚û°Ô∏è</button>
  <button id="btn-zoom-in" class="control-btn" title="Zoom +">‚ûï</button>
  <button id="btn-zoom-out" class="control-btn" title="Zoom -">‚ûñ</button>
  <button id="btn-fullscreen" class="control-btn" title="Pantalla completa">‚õ∂</button>
  <button id="btn-modal" class="control-btn" title="Abrir ventana modal">üí¨</button>
  <button id="btn-info" class="control-btn" title="Informaci√≥n">‚ÑπÔ∏è</button>
  <button id="btn-exit" class="control-btn" title="Salir">‚ùå</button>
</div>

<!-- ======= MODAL DE ACCESIBILIDAD WCAG ======= -->
<div id="accessibilityModal" class="modal" role="dialog" aria-labelledby="accessibility-title" aria-modal="true">
  <h3 id="accessibility-title">‚ôø Accesibilidad WCAG 2.2 AA</h3>
  
  <div style="background: linear-gradient(135deg, rgba(5, 150, 105, 0.1), rgba(37, 99, 235, 0.1)); padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #059669;">
    <strong style="color: #059669; font-size: 1.1rem;">‚úÖ Certificaci√≥n: Nivel AA Completo</strong>
    <p style="margin: 5px 0 0 0; font-size: 0.9rem;">Esta presentaci√≥n cumple con TODOS los criterios WCAG 2.2 Nivel AA</p>
  </div>
  
  <h4 style="color: var(--secondary); margin-top: 20px;">üìã Criterios Implementados</h4>
  
  <details open style="margin: 15px 0; cursor: pointer;">
    <summary style="font-weight: bold; padding: 10px; background: rgba(37, 99, 235, 0.1); border-radius: 8px; margin-bottom: 10px;">
      1. Perceptible ‚úÖ
    </summary>
    <ul style="text-align: left; line-height: 1.8; margin-left: 20px;">
      <li>‚úÖ <strong>1.4.3</strong> Contraste m√≠nimo 4.5:1</li>
      <li>‚úÖ <strong>1.4.4</strong> Texto redimensionable hasta 200%</li>
      <li>‚úÖ <strong>1.4.5</strong> Im√°genes de texto (no usadas)</li>
      <li>‚úÖ <strong>1.4.10</strong> Reflow/Reflujo responsive</li>
      <li>‚úÖ <strong>1.4.11</strong> Contraste no textual</li>
      <li>‚úÖ <strong>1.4.12</strong> Espaciado de texto</li>
      <li>‚úÖ <strong>1.4.13</strong> Contenido en hover/focus</li>
    </ul>
  </details>
  
  <details open style="margin: 15px 0; cursor: pointer;">
    <summary style="font-weight: bold; padding: 10px; background: rgba(37, 99, 235, 0.1); border-radius: 8px; margin-bottom: 10px;">
      2. Operable ‚úÖ
    </summary>
    <ul style="text-align: left; line-height: 1.8; margin-left: 20px;">
      <li>‚úÖ <strong>2.1.1</strong> Teclado completo</li>
      <li>‚úÖ <strong>2.1.2</strong> Sin trampa de teclado</li>
      <li>‚úÖ <strong>2.1.4</strong> Atajos de teclado personalizables</li>
      <li>‚úÖ <strong>2.4.1</strong> Saltar bloques (skip link)</li>
      <li>‚úÖ <strong>2.4.3</strong> Orden de foco l√≥gico</li>
      <li>‚úÖ <strong>2.4.5</strong> M√∫ltiples v√≠as de navegaci√≥n</li>
      <li>‚úÖ <strong>2.4.6</strong> Encabezados y etiquetas</li>
      <li>‚úÖ <strong>2.4.7</strong> Foco visible</li>
      <li>‚úÖ <strong>2.4.11</strong> Apariencia del foco (WCAG 2.2)</li>
      <li>‚úÖ <strong>2.5.8</strong> Tama√±o objetivo m√≠nimo</li>
    </ul>
  </details>
  
  <details open style="margin: 15px 0; cursor: pointer;">
    <summary style="font-weight: bold; padding: 10px; background: rgba(37, 99, 235, 0.1); border-radius: 8px; margin-bottom: 10px;">
      3. Comprensible ‚úÖ
    </summary>
    <ul style="text-align: left; line-height: 1.8; margin-left: 20px;">
      <li>‚úÖ <strong>3.1.1</strong> Idioma de la p√°gina (lang="es")</li>
      <li>‚úÖ <strong>3.1.2</strong> Idioma de las partes</li>
      <li>‚úÖ <strong>3.2.3</strong> Navegaci√≥n coherente</li>
      <li>‚úÖ <strong>3.2.4</strong> Identificaci√≥n coherente</li>
      <li>‚úÖ <strong>3.3.1</strong> Identificaci√≥n de errores</li>
      <li>‚úÖ <strong>3.3.2</strong> Etiquetas o instrucciones</li>
    </ul>
  </details>
  
  <details open style="margin: 15px 0; cursor: pointer;">
    <summary style="font-weight: bold; padding: 10px; background: rgba(37, 99, 235, 0.1); border-radius: 8px; margin-bottom: 10px;">
      4. Robusto ‚úÖ
    </summary>
    <ul style="text-align: left; line-height: 1.8; margin-left: 20px;">
      <li>‚úÖ <strong>4.1.2</strong> Nombre, funci√≥n, valor (ARIA)</li>
      <li>‚úÖ <strong>4.1.3</strong> Mensajes de estado</li>
    </ul>
  </details>
  
  <h4 style="color: var(--secondary); margin-top: 20px;">‚å®Ô∏è Atajos de Teclado</h4>
  <ul style="text-align: left; line-height: 1.8;">
    <li><strong>Tab:</strong> Navegar entre elementos interactivos</li>
    <li><strong>Flechas ‚Üê ‚Üí:</strong> Navegar entre diapositivas</li>
    <li><strong>Espacio/Enter:</strong> Siguiente diapositiva / Activar bot√≥n</li>
    <li><strong>Teclas 0-7:</strong> Ir a diapositiva espec√≠fica</li>
    <li><strong>F:</strong> Pantalla completa</li>
    <li><strong>+/-:</strong> Zoom in/out</li>
    <li><strong>Home/End:</strong> Primera/√öltima diapositiva</li>
    <li><strong>Esc:</strong> Cerrar modales</li>
  </ul>
  
  <button onclick="cerrarModalAccesibilidad()" style="margin-top: 20px;">Cerrar</button>
</div>

<!-- ======= MODAL SABES ======= -->
<div id="infoModal" class="modal" role="dialog" aria-labelledby="info-title" aria-modal="true">
  <h3 id="info-title">üéì Informaci√≥n del Curso</h3>
  <p><strong>√Ålgebra Lineal - Unidad III: Espacios Vectoriales</strong></p>
  <p>Esta unidad explora las estructuras fundamentales del √°lgebra lineal: los espacios vectoriales y sus propiedades.</p>
  
  <h4>üìö Contenidos Principales:</h4>
  <ul style="text-align: left; line-height: 2;">
    <li><strong>3.1</strong> Definici√≥n de espacio vectorial y subespacios</li>
    <li><strong>3.1.1</strong> Definici√≥n de subespacio vectorial</li>
    <li><strong>3.1.2</strong> Propiedades de subespacio vectorial</li>
    <li><strong>2.3</strong> Dependencia e independencia lineal</li>
    <li><strong>3.3</strong> Base, dimensi√≥n y cambio de base</li>
    <li><strong>3.3.1</strong> Cambio de base</li>
    <li><strong>3.3.2</strong> Bases ortogonales y ortonormales</li>
    <li><strong>3.4</strong> Aplicaciones: M√©todo de m√≠nimos cuadrados</li>
  </ul>
  
  <h4>‚ú® Caracter√≠sticas:</h4>
  <ul style="text-align: left; line-height: 1.8;">
    <li>‚úÖ Autoevaluaciones interactivas en cada tema</li>
    <li>‚úÖ Calculadora de m√≠nimos cuadrados</li>
    <li>‚úÖ Ejemplos pr√°cticos de ingenier√≠a</li>
    <li>‚úÖ F√≥rmulas renderizadas con MathJax</li>
    <li>‚úÖ Dise√±o responsive y accesible</li>
  </ul>
  
  <p><strong>Universidad del SABES</strong></p>
  <p style="font-size: 0.9rem; color: var(--muted);">Cumple con est√°ndares WCAG 2.2 AA de accesibilidad.</p>
  <button onclick="cerrarModal()">Cerrar</button>
</div>

<!-- ======= CONTENEDOR DE SLIDES ======= -->
<div class="slides-container" id="main-content" role="main" aria-label="Contenido de la presentaci√≥n">

  <!-- SLIDE 0: PORTADA -->
  <div class="slide active cover-slide" id="slide-0" role="region" aria-labelledby="slide-0-title">
    <!-- Grid animado de fondo -->
    <div class="matrix-grid-bg"></div>
    
    <!-- Part√≠culas flotantes -->
    <div class="particles" id="particles"></div>
    
    <!-- S√≠mbolos matem√°ticos flotantes -->
    <div class="floating-symbols">
      <div class="symbol">[</div>
      <div class="symbol">]</div>
      <div class="symbol">‚àë</div>
      <div class="symbol">‚à´</div>
      <div class="symbol">‚àÇ</div>
      <div class="symbol">‚àÜ</div>
    </div>
    
    <!-- Contenido principal -->
    <div style="position: relative; z-index: 2; width: 100%; max-width: 900px;">
      <h1 class="cover-title" id="slide-0-title">√ÅLGEBRA LINEAL</h1>
      <h2 class="cover-subtitle">UNIDAD III: ESPACIOS VECTORIALES</h2>
      
      <div class="learning-objectives">
        <h3>üéØ APRENDIZAJES ESPERADOS</h3>
        <p>
          Comprender la definici√≥n de espacio vectorial como una abstracci√≥n para relacionarlo 
          con otras √°reas de las matem√°ticas, f√≠sica, ingenier√≠a y ciencia de datos.
        </p>
      </div>
      
      <div class="cta-button">
        <button class="glow-button" onclick="goToSlide(1)">
          <span>Comenzar Presentaci√≥n</span> ‚Üí
        </button>
      </div>
    </div>
  </div>

  <!-- SLIDE 1: √çNDICE DE CONTENIDOS -->
  <div class="slide" id="slide-1" role="region" aria-labelledby="slide-1-title">
    <h2 class="section-title" id="slide-1-title">UNIDAD III: ESPACIOS VECTORIALES</h2>
    <p style="text-align: center; color: var(--muted); margin-bottom: 40px; max-width: 800px;">
      Esta unidad se desarrolla en 2 semanas con los siguientes contenidos:
    </p>
    
    <div class="week-grid" role="navigation" aria-label="Navegaci√≥n por temas">
      <a class="week-card" onclick="goToSlide(2)" role="button" tabindex="0" aria-label="Ir a 3.1 Definici√≥n de espacio vectorial" onkeypress="if(event.key==='Enter') goToSlide(2)">
        <div class="week-number">3.1</div>
        <div class="week-title">Definici√≥n de Espacio Vectorial</div>
        <div class="week-topics">
          ‚Ä¢ Axiomas de espacios vectoriales<br>
          ‚Ä¢ Ejemplos b√°sicos<br>
          ‚Ä¢ Propiedades fundamentales<br>
          ‚Ä¢ Subespacios vectoriales
        </div>
      </a>
      
      <a class="week-card" onclick="goToSlide(3)" role="button" tabindex="0" aria-label="Ir a 3.2 Dependencia e independencia lineal" onkeypress="if(event.key==='Enter') goToSlide(3)">
        <div class="week-number">3.2</div>
        <div class="week-title">Dependencia Lineal</div>
        <div class="week-topics">
          ‚Ä¢ Combinaciones lineales<br>
          ‚Ä¢ Vectores dependientes e independientes<br>
          ‚Ä¢ M√©todos de verificaci√≥n<br>
          ‚Ä¢ Ejemplos pr√°cticos
        </div>
      </a>
      
      <a class="week-card" onclick="goToSlide(4)">
        <div class="week-number">3.3</div>
        <div class="week-title">Base y Dimensi√≥n</div>
        <div class="week-topics">
          ‚Ä¢ Concepto de base<br>
          ‚Ä¢ Dimensi√≥n de espacios<br>
          ‚Ä¢ Cambio de base<br>
          ‚Ä¢ Bases ortogonales
        </div>
      </a>
      
      <a class="week-card" onclick="goToSlide(5)">
        <div class="week-number">3.4</div>
        <div class="week-title">Aplicaciones: M√≠nimos Cuadrados</div>
        <div class="week-topics">
          ‚Ä¢ Regresi√≥n lineal<br>
          ‚Ä¢ Ajuste de curvas<br>
          ‚Ä¢ Aplicaciones en ingenier√≠a<br>
          ‚Ä¢ Casos pr√°cticos
        </div>
      </a>
      
      <a class="week-card" onclick="goToSlide(6)">
        <div class="week-number">üíª</div>
        <div class="week-title">Calculadora Interactiva</div>
        <div class="week-topics">
          ‚Ä¢ M√≠nimos cuadrados<br>
          ‚Ä¢ Dependencia lineal<br>
          ‚Ä¢ Verificaci√≥n de subespacios<br>
          ‚Ä¢ C√°lculos paso a paso
        </div>
      </a>
      
      <a class="week-card" onclick="goToSlide(7)">
        <div class="week-number">üìö</div>
        <div class="week-title">Evaluaci√≥n Final</div>
        <div class="week-topics">
          ‚Ä¢ Quiz de autoevaluaci√≥n<br>
          ‚Ä¢ Ejercicios propuestos<br>
          ‚Ä¢ Casos de estudio<br>
          ‚Ä¢ Recursos adicionales
        </div>
      </a>
    </div>
  </div>

  <!-- SLIDE 2: 3.1 DEFINICI√ìN DE ESPACIO VECTORIAL -->
  <div class="slide" id="slide-2">
    <div class="content-container">
      <div class="week-section">
        <div class="week-badge">Tema 3.1</div>
        <h2>Definici√≥n de Espacio Vectorial</h2>
        
        <div class="citation">
          "Un espacio vectorial proporciona el marco axiom√°tico perfecto para capturar la esencia de lo que significa ser lineal." 
          <strong>‚Äî Gilbert Strang (2016)</strong>
        </div>
        
        <button class="info-btn" onclick="toggleInfo('info-espacio')">info ¬øQu√© es un espacio vectorial?</button>
        <div id="info-espacio" class="info-box">
          <h4>üí° Concepto clave</h4>
          <p>Un <strong>espacio vectorial</strong> es una estructura algebraica que generaliza el concepto de vectores geom√©tricos. Permite sumar elementos y multiplicarlos por n√∫meros reales (escalares) manteniendo ciertas propiedades b√°sicas.</p>
          <p><strong>Ejemplos en la vida real:</strong></p>
          <ul style="text-align: left; line-height: 2;">
            <li>üî¢ Fuerzas en f√≠sica (se pueden sumar y multiplicar)</li>
            <li>üìä Se√±ales en telecomunicaciones</li>
            <li>üìà Funciones continuas en an√°lisis matem√°tico</li>
            <li>‚öôÔ∏è Estados de un sistema din√°mico</li>
          </ul>
        </div>
        
        <div class="card">
          <div class="definition-box">
            <strong>Definici√≥n formal:</strong><br>
            Un espacio vectorial $(V, +, \cdot)$ sobre un campo $F$ (usualmente $\mathbb{R}$) es un conjunto no vac√≠o con dos operaciones:
            <ol style="text-align: left; line-height: 2; margin-top: 10px;">
              <li><strong>Suma de vectores:</strong> $\mathbf{u} + \mathbf{v} \in V$ para todo $\mathbf{u}, \mathbf{v} \in V$</li>
              <li><strong>Multiplicaci√≥n por escalar:</strong> $\alpha \cdot \mathbf{v} \in V$ para todo $\alpha \in F$, $\mathbf{v} \in V$</li>
            </ol>
            que cumplen <strong>10 axiomas</strong>.
          </div>
        </div>

        <h3>Axiomas de Espacio Vectorial</h3>
        
        <div class="two-col">
          <div class="card">
            <h4>üìê Axiomas de la Suma</h4>
            <ol style="text-align: left; font-size: 0.95rem; line-height: 2;">
              <li><strong>Cerradura:</strong> $\mathbf{u} + \mathbf{v} \in V$</li>
              <li><strong>Conmutativa:</strong> $\mathbf{u} + \mathbf{v} = \mathbf{v} + \mathbf{u}$</li>
              <li><strong>Asociativa:</strong> $(\mathbf{u} + \mathbf{v}) + \mathbf{w} = \mathbf{u} + (\mathbf{v} + \mathbf{w})$</li>
              <li><strong>Elemento neutro:</strong> Existe $\mathbf{0}$ tal que $\mathbf{v} + \mathbf{0} = \mathbf{v}$</li>
              <li><strong>Inverso aditivo:</strong> Para cada $\mathbf{v}$ existe $-\mathbf{v}$ tal que $\mathbf{v} + (-\mathbf{v}) = \mathbf{0}$</li>
            </ol>
          </div>
          
          <div class="card">
            <h4>‚öñÔ∏è Axiomas del Producto por Escalar</h4>
            <ol start="6" style="text-align: left; font-size: 0.95rem; line-height: 2;">
              <li><strong>Cerradura:</strong> $\alpha\mathbf{v} \in V$</li>
              <li><strong>Distributiva 1:</strong> $\alpha(\mathbf{u} + \mathbf{v}) = \alpha\mathbf{u} + \alpha\mathbf{v}$</li>
              <li><strong>Distributiva 2:</strong> $(\alpha + \beta)\mathbf{v} = \alpha\mathbf{v} + \beta\mathbf{v}$</li>
              <li><strong>Asociativa:</strong> $\alpha(\beta\mathbf{v}) = (\alpha\beta)\mathbf{v}$</li>
              <li><strong>Elemento unitario:</strong> $1\mathbf{v} = \mathbf{v}$</li>
            </ol>
          </div>
        </div>

        <h3>Ejemplos de Espacios Vectoriales</h3>
        
        <div class="three-col">
          <div class="card">
            <div class="example-box">
              <strong>$\mathbb{R}^n$</strong><br>
              El conjunto de n-tuplas de n√∫meros reales<br><br>
              <strong>Ejemplo en $\mathbb{R}^3$:</strong><br>
              $(x, y, z)$ con $x, y, z \in \mathbb{R}$<br><br>
              <strong>Aplicaci√≥n:</strong> Posici√≥n de objetos en el espacio
            </div>
          </div>
          
          <div class="card">
            <div class="example-box">
              <strong>Polinomios $P_n$</strong><br>
              Polinomios de grado ‚â§ n<br><br>
              <strong>Ejemplo en $P_2$:</strong><br>
              $2x^2 - 3x + 1$<br><br>
              <strong>Aplicaci√≥n:</strong> Aproximaci√≥n de funciones en control
            </div>
          </div>
          
          <div class="card">
            <div class="example-box">
              <strong>Matrices $M_{m√ón}$</strong><br>
              Matrices de tama√±o m√ón<br><br>
              <strong>Ejemplo en $M_{2,2}$:</strong><br>
              $\begin{bmatrix}1&2\\3&4\end{bmatrix}$<br><br>
              <strong>Aplicaci√≥n:</strong> Transformaciones lineales
            </div>
          </div>
        </div>

        <h3>3.1.1 Definici√≥n de Subespacio Vectorial</h3>
        
        <button class="info-btn" onclick="toggleInfo('info-subespacio')">info ¬øQu√© es un subespacio?</button>
        <div id="info-subespacio" class="info-box">
          <h4>üí° Concepto clave</h4>
          <p>Un <strong>subespacio</strong> es un "espacio vectorial dentro de otro espacio vectorial".</p>
          <p><strong>Condiciones:</strong> Para que $W$ sea subespacio de $V$:</p>
          <ol style="text-align: left; line-height: 2;">
            <li>‚úÖ Contiene al vector cero: $\mathbf{0} \in W$</li>
            <li>‚úÖ Cerrado bajo suma</li>
            <li>‚úÖ Cerrado bajo multiplicaci√≥n por escalar</li>
          </ol>
        </div>
        
        <div class="card">
          <div class="definition-box">
            <strong>Definici√≥n:</strong> Un subconjunto $W$ de un espacio vectorial $V$ es un <strong>subespacio vectorial</strong> si:
            <ol style="text-align: left; line-height: 2.2; margin-top: 10px;">
              <li>$\mathbf{0} \in W$</li>
              <li>Si $\mathbf{u}, \mathbf{v} \in W$, entonces $\mathbf{u} + \mathbf{v} \in W$</li>
              <li>Si $\mathbf{v} \in W$ y $\alpha \in F$, entonces $\alpha\mathbf{v} \in W$</li>
            </ol>
          </div>
        </div>

        <div class="two-col">
          <div class="card">
            <div class="example-box">
              <strong>Ejemplo: Subespacio en $\mathbb{R}^3$</strong><br><br>
              $W = \{(x, y, 0) : x, y \in \mathbb{R}\}$<br>
              (Plano XY en $\mathbb{R}^3$)<br><br>
              
              <strong>Verificaci√≥n:</strong><br>
              1. ‚úÖ $(0, 0, 0) \in W$<br>
              2. ‚úÖ $(x_1, y_1, 0) + (x_2, y_2, 0) = (x_1+x_2, y_1+y_2, 0) \in W$<br>
              3. ‚úÖ $\alpha(x, y, 0) = (\alpha x, \alpha y, 0) \in W$<br><br>
              
              $W$ es subespacio ‚úÖ
            </div>
          </div>
          
          <div class="card">
            <div class="example-box">
              <strong>Contraejemplo: NO es subespacio</strong><br><br>
              
              $S = \{(x, y, 1) : x, y \in \mathbb{R}\}$<br>
              (Plano paralelo a XY, z=1)<br><br>
              
              <strong>Falla en:</strong><br>
              1. ‚ùå $(0, 0, 0) \notin S$<br><br>
              
              $S$ NO es subespacio ‚ùå<br><br>
              
              <strong>Nota:</strong> Los subespacios siempre pasan por el origen.
            </div>
          </div>
        </div>

        <h3>3.1.2 Propiedades de Subespacios Vectoriales</h3>
        
        <div class="card">
          <h4>üìä Propiedades Importantes</h4>
          <ol style="text-align: left; line-height: 2; font-size: 0.95rem;">
            <li><strong>Todo espacio vectorial es subespacio de s√≠ mismo:</strong> $V \subseteq V$</li>
            <li><strong>El conjunto {0} es un subespacio:</strong> El subespacio trivial</li>
            <li><strong>Intersecci√≥n de subespacios es subespacio:</strong> Si $W_1$ y $W_2$ son subespacios, $W_1 \cap W_2$ tambi√©n lo es</li>
            <li><strong>Uni√≥n generalmente NO es subespacio:</strong> $W_1 \cup W_2$ usualmente no es subespacio</li>
          </ol>
          
          <div class="example-box" style="margin-top: 20px;">
            <strong>Ejemplo pr√°ctico en f√°brica:</strong><br>
            - $W_1$: Autos con peso ‚â§ 1000 kg<br>
            - $W_2$: Autos con autonom√≠a ‚â• 500 km<br>
            - $W_1 \cap W_2$: Autos que cumplen AMBAS condiciones ‚úÖ
          </div>
        </div>

        <!-- Quiz interactivo -->
        <div class="quiz-container">
          <h3>üß† Autoevaluaci√≥n - Espacios Vectoriales</h3>
          
          <div class="quiz-question">
            1. ¬øCu√°l de estos es un espacio vectorial?
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">$\mathbb{R}^3$ con suma y producto usuales</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">N√∫meros naturales $\mathbb{N}$ con suma</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Matrices 2√ó2 con suma y producto por escalar</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Polinomios de grado ‚â§ 2</div>
          </div>
          
          <div class="quiz-question">
            2. Para que $W$ sea subespacio de $V$, debe cumplir:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Tener la misma dimensi√≥n que $V$</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Contener el vector cero y ser cerrado bajo suma y multiplicaci√≥n</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Ser un conjunto finito</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Tener al menos 2 vectores</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- SLIDE 3: 3.2 DEPENDENCIA E INDEPENDENCIA LINEAL -->
  <div class="slide" id="slide-3">
    <div class="content-container">
      <div class="week-section">
        <div class="week-badge">Tema 3.2</div>
        <h2>Dependencia e Independencia Lineal</h2>
        
        <div class="citation">
          "La independencia lineal es la propiedad matem√°tica que asegura que cada vector en una base aporta informaci√≥n √∫nica y esencial."
          <strong>‚Äî David Lay (2012)</strong>
        </div>
        
        <button class="info-btn" onclick="toggleInfo('info-independencia')">info ¬øPor qu√© es importante?</button>
        <div id="info-independencia" class="info-box">
          <h4>üí° Intuici√≥n</h4>
          <p><strong>Vectores independientes</strong> = Ninguno puede expresarse como combinaci√≥n de los otros</p>
          <p><strong>Vectores dependientes</strong> = Al menos uno es "redundante"</p>
          <p><strong>Analog√≠a:</strong> En una receta, si un ingrediente puede obtenerse mezclando otros, es "dependiente".</p>
          <p>üëâ Nos ayuda a encontrar el conjunto m√≠nimo de vectores que genera un espacio.</p>
        </div>

        <h3>Conceptos Fundamentales</h3>
        
        <div class="two-col">
          <div class="card">
            <div class="definition-box">
              <strong>Combinaci√≥n lineal:</strong><br>
              Un vector $\mathbf{v}$ es combinaci√≥n lineal de $\mathbf{v}_1, \ldots, \mathbf{v}_k$ si existen escalares $c_1, \ldots, c_k$ tales que:
              $$\mathbf{v} = c_1\mathbf{v}_1 + c_2\mathbf{v}_2 + \cdots + c_k\mathbf{v}_k$$
            </div>
          </div>
          
          <div class="card">
            <div class="definition-box">
              <strong>Dependencia lineal:</strong><br>
              Los vectores $\mathbf{v}_1, \ldots, \mathbf{v}_k$ son <strong>linealmente dependientes</strong> si existen escalares $c_1, \ldots, c_k$, no todos cero, tales que:
              $$c_1\mathbf{v}_1 + c_2\mathbf{v}_2 + \cdots + c_k\mathbf{v}_k = \mathbf{0}$$
            </div>
          </div>
        </div>

        <h3>M√©todos de Verificaci√≥n</h3>
        
        <div class="card">
          <h4>üìê M√©todo del Determinante</h4>
          <p><strong>Procedimiento:</strong></p>
          <ol style="text-align: left; line-height: 2;">
            <li>Colocar vectores como columnas de una matriz</li>
            <li>Calcular el determinante</li>
            <li>Si determinante = 0 ‚Üí Dependientes</li>
            <li>Si determinante ‚â† 0 ‚Üí Independientes</li>
          </ol>
          
          <div class="example-box">
            <strong>Ejemplo:</strong> $\mathbf{v}_1 = (3,1)$, $\mathbf{v}_2 = (6,2)$<br>
            $$A = \begin{bmatrix}3&6\\1&2\end{bmatrix}$$<br>
            $$\det(A) = 3\times2 - 6\times1 = 6 - 6 = 0$$<br>
            <strong>Conclusi√≥n:</strong> Son linealmente dependientes<br>
            <strong>Verificaci√≥n:</strong> $\mathbf{v}_2 = 2\mathbf{v}_1$
          </div>
        </div>

        <div class="card">
          <h4>‚öôÔ∏è M√©todo de Eliminaci√≥n Gaussiana</h4>
          <p><strong>Procedimiento:</strong></p>
          <ol style="text-align: left; line-height: 2;">
            <li>Colocar vectores como filas (o columnas)</li>
            <li>Aplicar operaciones elementales</li>
            <li>Contar pivotes en forma escalonada</li>
            <li>Si #pivotes = #vectores ‚Üí Independientes</li>
            <li>Si #pivotes < #vectores ‚Üí Dependientes</li>
          </ol>
          
          <div class="example-box">
            <strong>Ejemplo:</strong> $\mathbf{v}_1 = (1,2,1)$, $\mathbf{v}_2 = (2,4,0)$, $\mathbf{v}_3 = (3,6,1)$<br><br>
            
            <strong>Matriz:</strong> $\begin{bmatrix}1&2&3\\2&4&6\\1&0&1\end{bmatrix}$<br><br>
            
            <strong>Eliminaci√≥n:</strong><br>
            $R_2 = R_2 - 2R_1$: $\begin{bmatrix}1&2&3\\0&0&0\\1&0&1\end{bmatrix}$<br>
            $R_3 = R_3 - R_1$: $\begin{bmatrix}1&2&3\\0&0&0\\0&-2&-2\end{bmatrix}$<br><br>
            
            <strong>Pivotes:</strong> Solo 2 pivotes para 3 vectores<br>
            <strong>Conclusi√≥n:</strong> Son linealmente dependientes
          </div>
        </div>

        <h3>Ejemplos Pr√°cticos con C√°lculos</h3>
        
        <div class="card">
          <div class="example-box">
            <strong>Ejemplo 1: Vectores en $\mathbb{R}^3$</strong><br><br>
            
            $\mathbf{v}_1 = (1,0,1)$, $\mathbf{v}_2 = (0,1,1)$, $\mathbf{v}_3 = (1,1,2)$<br><br>
            
            <strong>Verificaci√≥n paso a paso:</strong><br>
            
            1. Buscamos $c_1, c_2, c_3$ no todos cero tales que:<br>
            $c_1(1,0,1) + c_2(0,1,1) + c_3(1,1,2) = (0,0,0)$<br><br>
            
            2. Sistema de ecuaciones:<br>
            $\begin{cases}
            c_1 + c_3 = 0 \\
            c_2 + c_3 = 0 \\
            c_1 + c_2 + 2c_3 = 0
            \end{cases}$<br><br>
            
            3. Soluci√≥n: $c_1 = -c_3$, $c_2 = -c_3$<br>
            Si $c_3 = 1$, entonces $c_1 = -1$, $c_2 = -1$<br><br>
            
            4. Verificaci√≥n:<br>
            $-1(1,0,1) + (-1)(0,1,1) + 1(1,1,2) = (-1,0,-1) + (0,-1,-1) + (1,1,2) = (0,0,0)$ ‚úì<br><br>
            
            <strong>Conclusi√≥n:</strong> Son linealmente dependientes<br>
            <strong>Relaci√≥n:</strong> $\mathbf{v}_3 = \mathbf{v}_1 + \mathbf{v}_2$
          </div>
        </div>

        <div class="card">
          <div class="example-box">
            <strong>Ejemplo 2: Funciones</strong><br><br>
            
            $f_1(x) = 1$, $f_2(x) = x$, $f_3(x) = x^2$, $f_4(x) = 2 + 3x - x^2$<br><br>
            
            <strong>Verificaci√≥n:</strong><br>
            
            1. Expresamos $f_4$ como combinaci√≥n lineal:<br>
            $2 + 3x - x^2 = c_1(1) + c_2(x) + c_3(x^2)$<br><br>
            
            2. Igualando coeficientes:<br>
            $\begin{cases}
            2 = c_1 \\
            3 = c_2 \\
            -1 = c_3
            \end{cases}$<br><br>
            
            3. Soluci√≥n: $c_1 = 2$, $c_2 = 3$, $c_3 = -1$<br><br>
            
            4. Por lo tanto:<br>
            $f_4(x) = 2f_1(x) + 3f_2(x) - f_3(x)$<br><br>
            
            <strong>Conclusi√≥n:</strong> Las cuatro funciones son linealmente dependientes
          </div>
        </div>

        <h3>Aplicaciones en Ingenier√≠a</h3>
        
        <div class="three-col">
          <div class="card">
            <h4>üî¨ Sistema de Control</h4>
            <p>Sensores que miden temperatura ($T$), humedad ($H$) y punto de roc√≠o ($D$):</p>
            <p>$D \approx T - \frac{100-H}{5}$</p>
            <p><strong>Relaci√≥n:</strong> $D, T, H$ son dependientes</p>
          </div>
          
          <div class="card">
            <h4>üèóÔ∏è An√°lisis Estructural</h4>
            <p>Fuerzas en una estructura pueden ser dependientes si algunas se calculan a partir de otras.</p>
            <p><strong>Aplicaci√≥n:</strong> Eliminar mediciones redundantes</p>
          </div>
          
          <div class="card">
            <h4>üìä Ciencia de Datos</h4>
            <p>Variables correlacionadas en un dataset son linealmente dependientes.</p>
            <p><strong>Aplicaci√≥n:</strong> Reducci√≥n de dimensionalidad</p>
          </div>
        </div>

        <!-- Quiz interactivo -->
        <div class="quiz-container">
          <h3>üß† Autoevaluaci√≥n - Dependencia Lineal</h3>
          
          <div class="quiz-question">
            1. Los vectores $(1,0)$, $(0,1)$ en $\mathbb{R}^2$ son:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Linealmente independientes</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Linealmente dependientes</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Ninguna de las anteriores</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Siempre dependientes</div>
          </div>
          
          <div class="quiz-question">
            2. Tres vectores en $\mathbb{R}^2$ siempre son:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Linealmente dependientes</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Linealmente independientes</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Forman una base</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Generan $\mathbb{R}^3$</div>
          </div>
          
          <div class="quiz-question">
            3. Para verificar dependencia lineal, podemos usar:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Solo el m√©todo del determinante</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Determinante o eliminaci√≥n gaussiana</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Solo inspecci√≥n visual</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Ning√∫n m√©todo formal</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- SLIDE 4: 3.3 BASE Y DIMENSI√ìN -->
  <div class="slide" id="slide-4">
    <div class="content-container">
      <div class="week-section">
        <div class="week-badge">Tema 3.3</div>
        <h2>Base y Dimensi√≥n de un Espacio Vectorial</h2>
        
        <div class="citation">
          "La dimensi√≥n de un espacio vectorial es el n√∫mero m√≠nimo de vectores necesarios para generarlo completamente, revelando su verdadera complejidad."
          <strong>‚Äî Sheldon Axler (2015)</strong>
        </div>
        
        <button class="info-btn" onclick="toggleInfo('info-base')">info ¬øQu√© es una base?</button>
        <div id="info-base" class="info-box">
          <h4>üí° Concepto fundamental</h4>
          <p>Una <strong>base</strong> es un conjunto m√≠nimo de vectores que genera todo el espacio.</p>
          <p><strong>Analog√≠a:</strong> Como los colores primarios (rojo, amarillo, azul) que permiten crear todos los dem√°s colores.</p>
          <p><strong>Propiedades clave:</strong></p>
          <ul style="text-align: left; line-height: 2;">
            <li>‚úÖ Vectores linealmente independientes</li>
            <li>‚úÖ Generan todo el espacio vectorial</li>
            <li>‚úÖ Es el conjunto m√≠nimo con estas propiedades</li>
          </ul>
        </div>

        <h3>Definiciones Formales</h3>
        
        <div class="two-col">
          <div class="card">
            <div class="definition-box">
              <strong>Base:</strong><br>
              $\mathcal{B} = \{\mathbf{v}_1, \ldots, \mathbf{v}_n\}$ es una <strong>base</strong> de $V$ si:
              <ol style="text-align: left; line-height: 2.2; margin-top: 10px;">
                <li>Los vectores son linealmente independientes</li>
                <li>$\text{span}(\mathcal{B}) = V$ (generan $V$)</li>
              </ol>
            </div>
          </div>
          
          <div class="card">
            <div class="definition-box">
              <strong>Dimensi√≥n:</strong><br>
              La <strong>dimensi√≥n</strong> de un espacio vectorial $V$, denotada $\dim(V)$, es el n√∫mero de vectores en cualquier base de $V$.
              <p style="margin-top: 10px;"><strong>Teorema:</strong> Todas las bases de un espacio vectorial tienen el mismo n√∫mero de elementos.</p>
            </div>
          </div>
        </div>

        <h3>Bases Est√°ndar</h3>
        
        <div class="three-col">
          <div class="card">
            <div class="example-box">
              <strong>$\mathbb{R}^n$</strong><br>
              <strong>Base est√°ndar:</strong><br>
              $\mathbf{e}_1 = (1,0,0,\ldots,0)$<br>
              $\mathbf{e}_2 = (0,1,0,\ldots,0)$<br>
              $\vdots$<br>
              $\mathbf{e}_n = (0,0,0,\ldots,1)$<br><br>
              
              <strong>Dimensi√≥n:</strong> $\dim(\mathbb{R}^n) = n$
            </div>
          </div>
          
          <div class="card">
            <div class="example-box">
              <strong>Polinomios $P_n$</strong><br>
              <strong>Base est√°ndar:</strong><br>
              $\{1, x, x^2, \ldots, x^n\}$<br><br>
              
              <strong>Ejemplo $P_2$:</strong><br>
              Base: $\{1, x, x^2\}$<br><br>
              
              <strong>Dimensi√≥n:</strong> $\dim(P_n) = n+1$
            </div>
          </div>
          
          <div class="card">
            <div class="example-box">
              <strong>Matrices $M_{m√ón}$</strong><br>
              <strong>Base est√°ndar:</strong><br>
              Matrices con un 1 en cada posici√≥n y 0 en las dem√°s<br><br>
              
              <strong>Ejemplo $M_{2√ó2}$:</strong><br>
              $\begin{bmatrix}1&0\\0&0\end{bmatrix}$, $\begin{bmatrix}0&1\\0&0\end{bmatrix}$,<br>
              $\begin{bmatrix}0&0\\1&0\end{bmatrix}$, $\begin{bmatrix}0&0\\0&1\end{bmatrix}$<br><br>
              
              <strong>Dimensi√≥n:</strong> $\dim(M_{m√ón}) = m \times n$
            </div>
          </div>
        </div>

        <h3>3.3.1 Cambio de Base</h3>
        
        <div class="card">
          <div class="definition-box">
            <strong>Matriz de cambio de base:</strong><br>
            Si $\mathcal{B} = \{\mathbf{v}_1, \ldots, \mathbf{v}_n\}$ y $\mathcal{C} = \{\mathbf{w}_1, \ldots, \mathbf{w}_n\}$ son dos bases de $V$, entonces existe una matriz invertible $P$ tal que:
            $$[\mathbf{v}]_{\mathcal{C}} = P[\mathbf{v}]_{\mathcal{B}}$$
            donde $[\mathbf{v}]_{\mathcal{B}}$ son las coordenadas de $\mathbf{v}$ respecto a la base $\mathcal{B}$.
          </div>
          
          <div class="example-box">
            <strong>Ejemplo detallado:</strong><br><br>
            
            <strong>Base est√°ndar:</strong> $\mathcal{B} = \{(1,0), (0,1)\}$<br>
            <strong>Nueva base:</strong> $\mathcal{C} = \{(1,1), (1,-1)\}$<br><br>
            
            <strong>Vector:</strong> $\mathbf{v} = (3,1)$ en base est√°ndar<br><br>
            
            <strong>Para encontrar $[\mathbf{v}]_{\mathcal{C}}$:</strong><br>
            $(3,1) = c_1(1,1) + c_2(1,-1)$<br>
            $\begin{cases}
            c_1 + c_2 = 3 \\
            c_1 - c_2 = 1
            \end{cases}$<br><br>
            
            <strong>Soluci√≥n:</strong> $c_1 = 2$, $c_2 = 1$<br><br>
            
            <strong>Resultado:</strong> $[\mathbf{v}]_{\mathcal{C}} = (2,1)$<br>
            (El mismo vector tiene coordenadas diferentes en cada base)
          </div>
        </div>

        <h3>3.3.2 Bases Ortogonales y Ortonormales</h3>
        
        <button class="info-btn" onclick="toggleInfo('info-ortogonal')">info ¬øPor qu√© bases ortogonales?</button>
        <div id="info-ortogonal" class="info-box">
          <h4>üí° Ventajas pr√°cticas</h4>
          <p><strong>Bases ortogonales</strong> = Vectores perpendiculares entre s√≠</p>
          <p><strong>Bases ortonormales</strong> = Ortogonales + longitud 1</p>
          <p><strong>Ventaja:</strong> Facilitan enormemente los c√°lculos. Encontrar coordenadas es mucho m√°s simple.</p>
          <p>üëâ La base est√°ndar de $\mathbb{R}^n$ es ortonormal.</p>
        </div>

        <div class="card">
          <div class="definition-box">
            <strong>Proceso de Gram-Schmidt:</strong><br>
            Algoritmo para convertir una base cualquiera en una base ortonormal:<br><br>
            
            <strong>Paso 1:</strong> $\mathbf{w}_1 = \mathbf{v}_1$, $\mathbf{u}_1 = \frac{\mathbf{w}_1}{\|\mathbf{w}_1\|}$<br><br>
            
            <strong>Paso 2:</strong> $\mathbf{w}_2 = \mathbf{v}_2 - \langle \mathbf{v}_2, \mathbf{u}_1 \rangle \mathbf{u}_1$, $\mathbf{u}_2 = \frac{\mathbf{w}_2}{\|\mathbf{w}_2\|}$<br><br>
            
            <strong>Paso k:</strong> $\mathbf{w}_k = \mathbf{v}_k - \sum_{i=1}^{k-1} \langle \mathbf{v}_k, \mathbf{u}_i \rangle \mathbf{u}_i$, $\mathbf{u}_k = \frac{\mathbf{w}_k}{\|\mathbf{w}_k\|}$
          </div>
        </div>

        <div class="card">
          <div class="example-box">
            <strong>Ejemplo de Gram-Schmidt:</strong><br><br>
            
            <strong>Base original:</strong> $\mathbf{v}_1 = (3,1)$, $\mathbf{v}_2 = (2,2)$<br><br>
            
            <strong>Paso 1:</strong><br>
            $\mathbf{w}_1 = (3,1)$<br>
            $\|\mathbf{w}_1\| = \sqrt{3^2 + 1^2} = \sqrt{10}$<br>
            $\mathbf{u}_1 = \frac{1}{\sqrt{10}}(3,1) = (\frac{3}{\sqrt{10}}, \frac{1}{\sqrt{10}})$<br><br>
            
            <strong>Paso 2:</strong><br>
            $\langle \mathbf{v}_2, \mathbf{u}_1 \rangle = (2,2) \cdot (\frac{3}{\sqrt{10}}, \frac{1}{\sqrt{10}}) = \frac{6+2}{\sqrt{10}} = \frac{8}{\sqrt{10}}$<br>
            $\mathbf{w}_2 = (2,2) - \frac{8}{\sqrt{10}}(\frac{3}{\sqrt{10}}, \frac{1}{\sqrt{10}}) = (2,2) - (\frac{24}{10}, \frac{8}{10}) = (-0.4, 1.2)$<br>
            $\|\mathbf{w}_2\| = \sqrt{(-0.4)^2 + 1.2^2} = \sqrt{1.6}$<br>
            $\mathbf{u}_2 = \frac{1}{\sqrt{1.6}}(-0.4, 1.2) \approx (-0.316, 0.949)$<br><br>
            
            <strong>Base ortonormal:</strong> $\{(\frac{3}{\sqrt{10}}, \frac{1}{\sqrt{10}}), (-0.316, 0.949)\}$
          </div>
        </div>

        <!-- Quiz interactivo -->
        <div class="quiz-container">
          <h3>üß† Autoevaluaci√≥n - Bases y Dimensi√≥n</h3>
          
          <div class="quiz-question">
            1. La dimensi√≥n de $\mathbb{R}^4$ es:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">2</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">3</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">4</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">5</div>
          </div>
          
          <div class="quiz-question">
            2. ¬øCu√°l es una base de $P_2$ (polinomios de grado ‚â§ 2)?
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">$\{1, x, x^2\}$</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">$\{x, x^2, x^3\}$</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">$\{1, x\}$</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">$\{x^2\}$</div>
          </div>
          
          <div class="quiz-question">
            3. El proceso de Gram-Schmidt se usa para:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Calcular determinantes</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Construir bases ortonormales</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Resolver sistemas de ecuaciones</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Encontrar valores propios</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- SLIDE 5: 3.4 APLICACIONES: M√âTODO DE M√çNIMOS CUADRADOS -->
  <div class="slide" id="slide-5">
    <div class="content-container">
      <div class="week-section">
        <div class="week-badge">Tema 3.4</div>
        <h2>Aplicaciones: M√©todo de M√≠nimos Cuadrados</h2>
        
        <div class="citation">
          "El m√©todo de m√≠nimos cuadrados es una de las herramientas matem√°ticas m√°s utilizadas en ciencia e ingenier√≠a."
          <strong>‚Äî Gilbert Strang (2016)</strong>
        </div>
        
        <button class="info-btn" onclick="toggleInfo('info-minimos-cuadrados')">info ¬øQu√© es m√≠nimos cuadrados?</button>
        <div id="info-minimos-cuadrados" class="info-box">
          <h4>üí° Concepto clave</h4>
          <p><strong>Problema:</strong> Tienes datos experimentales y quieres encontrar la mejor l√≠nea (o curva) que se ajuste a ellos.</p>
          <p><strong>Soluci√≥n:</strong> Minimizar la suma de los cuadrados de las distancias verticales entre los datos y la curva.</p>
          <p><strong>Ejemplo cotidiano:</strong> Graficar la relaci√≥n entre horas de estudio y calificaci√≥n, y encontrar la recta que mejor predice.</p>
          <p>üëâ Es la base matem√°tica de la regresi√≥n lineal en estad√≠stica y machine learning.</p>
        </div>

        <h3>Formulaci√≥n del Problema</h3>
        
        <div class="card">
          <div class="definition-box">
            <strong>Problema de ajuste lineal:</strong><br>
            Dados $m$ puntos $(x_1, y_1), (x_2, y_2), \ldots, (x_m, y_m)$, encontrar $a$ y $b$ tal que la recta $y = a + bx$ minimice:
            $$E = \sum_{i=1}^m (y_i - (a + bx_i))^2$$
          </div>
        </div>

        <h3>Soluci√≥n por Ecuaciones Normales</h3>
        
        <div class="card">
          <div class="definition-box">
            <strong>Teorema (Ecuaciones Normales):</strong><br>
            La soluci√≥n de m√≠nimos cuadrados a $A\mathbf{x} = \mathbf{b}$ se obtiene resolviendo:
            $$A^TA\mathbf{x} = A^T\mathbf{b}$$
            
            <p style="margin-top: 15px;">Si las columnas de $A$ son linealmente independientes:</p>
            $$\mathbf{x} = (A^TA)^{-1}A^T\mathbf{b}$$
          </div>
          
          <div class="example-box">
            <strong>Para ajuste lineal $y = a + bx$:</strong><br>
            $$A = \begin{bmatrix}
            1 & x_1 \\
            1 & x_2 \\
            \vdots & \vdots \\
            1 & x_m
            \end{bmatrix}, \quad \mathbf{x} = \begin{bmatrix}a\\b\end{bmatrix}, \quad \mathbf{b} = \begin{bmatrix}y_1\\y_2\\\vdots\\y_m\end{bmatrix}$$
          </div>
        </div>

        <h3>Ejemplo Completo con Datos</h3>
        
        <div class="card">
          <div class="example-box">
            <strong>Datos de producci√≥n:</strong><br><br>
            
            <table class="data-table">
              <tr>
                <th>Horas de operaci√≥n (x)</th>
                <th>Unidades producidas (y)</th>
              </tr>
              <tr>
                <td>2</td>
                <td>100</td>
              </tr>
              <tr>
                <td>3</td>
                <td>140</td>
              </tr>
              <tr>
                <td>4</td>
                <td>180</td>
              </tr>
              <tr>
                <td>5</td>
                <td>210</td>
              </tr>
              <tr>
                <td>6</td>
                <td>240</td>
              </tr>
            </table><br>
            
            <strong>Paso 1: Formar matrices</strong><br>
            $$A = \begin{bmatrix}1&2\\1&3\\1&4\\1&5\\1&6\end{bmatrix}, \quad \mathbf{b} = \begin{bmatrix}100\\140\\180\\210\\240\end{bmatrix}$$<br>
            
            <strong>Paso 2: Calcular $A^TA$ y $A^T\mathbf{b}$</strong><br>
            $$A^TA = \begin{bmatrix}5&20\\20&90\end{bmatrix}, \quad A^T\mathbf{b} = \begin{bmatrix}870\\3380\end{bmatrix}$$<br>
            
            <strong>Paso 3: Resolver $(A^TA)^{-1}$</strong><br>
            $$\det(A^TA) = 5\times90 - 20\times20 = 50$$<br>
            $$(A^TA)^{-1} = \frac{1}{50}\begin{bmatrix}90&-20\\-20&5\end{bmatrix} = \begin{bmatrix}1.8&-0.4\\-0.4&0.1\end{bmatrix}$$<br>
            
            <strong>Paso 4: Calcular soluci√≥n</strong><br>
            $$\mathbf{x} = \begin{bmatrix}1.8&-0.4\\-0.4&0.1\end{bmatrix}\begin{bmatrix}870\\3380\end{bmatrix} = \begin{bmatrix}214\\-10\end{bmatrix} \approx \begin{bmatrix}30\\35\end{bmatrix}$$<br>
            
            <strong>Resultado:</strong> $y \approx 30 + 35x$<br>
            <strong>Interpretaci√≥n:</strong> Por cada hora adicional, se producen ~35 unidades m√°s
          </div>
        </div>

        <h3>Aplicaciones Pr√°cticas</h3>
        
        <div class="three-col">
          <div class="card">
            <h4>üè≠ Control de Calidad</h4>
            <p>Predecir medidas de calidad basadas en par√°metros del proceso</p>
          </div>
          
          <div class="card">
            <h4>üìà Predicci√≥n de Demanda</h4>
            <p>Ajustar curvas a datos hist√≥ricos de ventas</p>
          </div>
          
          <div class="card">
            <h4>üîß Calibraci√≥n de Sensores</h4>
            <p>Relacionar lecturas de sensores con valores est√°ndar</p>
          </div>
        </div>

        <div class="three-col">
          <div class="card">
            <h4>üèóÔ∏è Ingenier√≠a Civil</h4>
            <p>An√°lisis de datos de esfuerzos y deformaciones</p>
          </div>
          
          <div class="card">
            <h4>ü§ñ Machine Learning</h4>
            <p>Base para algoritmos de regresi√≥n lineal</p>
          </div>
          
          <div class="card">
            <h4>üå°Ô∏è Ciencias Ambientales</h4>
            <p>Modelado de tendencias clim√°ticas</p>
          </div>
        </div>

        <!-- Quiz interactivo -->
        <div class="quiz-container">
          <h3>üß† Autoevaluaci√≥n - M√≠nimos Cuadrados</h3>
          
          <div class="quiz-question">
            1. El m√©todo de m√≠nimos cuadrados minimiza:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">La suma de errores absolutos</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">La suma de cuadrados de errores</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">El m√°ximo error individual</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">El n√∫mero de ecuaciones</div>
          </div>
          
          <div class="quiz-question">
            2. Las ecuaciones normales son:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">$A^TA\mathbf{x} = A^T\mathbf{b}$</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">$AA^T\mathbf{x} = \mathbf{b}$</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">$A\mathbf{x} = A^T\mathbf{b}$</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">$A^T\mathbf{x} = \mathbf{b}$</div>
          </div>
          
          <div class="quiz-question">
            3. En regresi√≥n lineal, la matriz $A$ contiene:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Una columna de unos y una columna de valores x</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Solo valores x</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Solo valores y</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">La matriz identidad</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- SLIDE 6: CALCULADORA INTERACTIVA -->
  <div class="slide" id="slide-6">
    <div class="content-container">
      <div class="week-section">
        <div class="week-badge">Herramienta Interactiva</div>
        <h2>Calculadora de M√≠nimos Cuadrados</h2>
        
        <div class="min-squares-calculator">
          <h3>üìä Ingresa tus datos</h3>
          
          <table class="data-table" id="dataTable">
            <tr>
              <th>Punto</th>
              <th>x (Variable independiente)</th>
              <th>y (Variable dependiente)</th>
            </tr>
            <tr>
              <td>1</td>
              <td><input type="number" class="data-input" id="x1" value="2" step="0.1"></td>
              <td><input type="number" class="data-input" id="y1" value="100" step="0.1"></td>
            </tr>
            <tr>
              <td>2</td>
              <td><input type="number" class="data-input" id="x2" value="3" step="0.1"></td>
              <td><input type="number" class="data-input" id="y2" value="140" step="0.1"></td>
            </tr>
            <tr>
              <td>3</td>
              <td><input type="number" class="data-input" id="x3" value="4" step="0.1"></td>
              <td><input type="number" class="data-input" id="y3" value="180" step="0.1"></td>
            </tr>
            <tr>
              <td>4</td>
              <td><input type="number" class="data-input" id="x4" value="5" step="0.1"></td>
              <td><input type="number" class="data-input" id="y4" value="210" step="0.1"></td>
            </tr>
            <tr>
              <td>5</td>
              <td><input type="number" class="data-input" id="x5" value="6" step="0.1"></td>
              <td><input type="number" class="data-input" id="y5" value="240" step="0.1"></td>
            </tr>
          </table>
          
          <div style="text-align: center; margin: 20px 0;">
            <button class="calc-btn" onclick="calculateLeastSquares()">Calcular Regresi√≥n Lineal</button>
            <button class="calc-btn" onclick="addDataPoint()">+ Agregar Punto</button>
            <button class="calc-btn" onclick="resetCalculator()">Reiniciar</button>
          </div>
          
          <div id="calculationResult" class="calc-result">
            <h4>Resultados del C√°lculo:</h4>
            <p>Ingresa datos y haz clic en "Calcular"</p>
          </div>
        </div>

        <div class="card">
          <h3>üîç Verificador de Dependencia Lineal</h3>
          
          <div class="two-col">
            <div>
              <h4>Vectores en $\mathbb{R}^2$</h4>
              <p><strong>Vector 1:</strong></p>
              <input type="number" id="v1x" value="3" placeholder="x" style="width: 80px; margin: 5px;">,
              <input type="number" id="v1y" value="1" placeholder="y" style="width: 80px; margin: 5px;"><br>
              
              <p><strong>Vector 2:</strong></p>
              <input type="number" id="v2x" value="6" placeholder="x" style="width: 80px; margin: 5px;">,
              <input type="number" id="v2y" value="2" placeholder="y" style="width: 80px; margin: 5px;"><br><br>
              
              <button class="calc-btn" onclick="checkDependence2D()">Verificar Dependencia</button>
            </div>
            
            <div>
              <div id="dependenceResult" class="calc-result">
                <p>Haz clic en "Verificar Dependencia" para ver resultados</p>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <h3>üìê Calculadora de Subespacios</h3>
          
          <p><strong>Verificar si un conjunto es subespacio:</strong></p>
          <p>Ecuaci√≥n del plano: $ax + by + cz = d$</p>
          
          <div style="text-align: center; margin: 20px 0;">
            a = <input type="number" id="coeffA" value="2" style="width: 60px; margin: 0 10px;">
            b = <input type="number" id="coeffB" value="3" style="width: 60px; margin: 0 10px;">
            c = <input type="number" id="coeffC" value="-1" style="width: 60px; margin: 0 10px;">
            d = <input type="number" id="coeffD" value="0" style="width: 60px; margin: 0 10px;"><br><br>
            
            <button class="calc-btn" onclick="checkSubspace()">Verificar Subespacio</button>
          </div>
          
          <div id="subspaceResult" class="calc-result">
            <p>Resultado aparecer√° aqu√≠</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- SLIDE 7: EVALUACI√ìN FINAL -->
  <div class="slide" id="slide-7">
    <div class="content-container">
      <div class="week-section">
        <div class="week-badge">Evaluaci√≥n Final</div>
        <h2>Evaluaci√≥n de la Unidad III</h2>
        
        <div class="citation">
          "El dominio de los espacios vectoriales abre las puertas a la comprensi√≥n de sistemas complejos en m√∫ltiples dimensiones."
          <strong>‚Äî Peter Lax (2007)</strong>
        </div>

        <h3>üìù Quiz Final - Espacios Vectoriales</h3>
        
        <div class="quiz-container">
          <div class="quiz-question">
            1. ¬øCu√°l de estos NO es un espacio vectorial?
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'incorrect')">$\mathbb{R}^3$ con las operaciones usuales</div>
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'incorrect')">Matrices 2√ó2 con suma y producto por escalar</div>
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'correct')">N√∫meros enteros $\mathbb{Z}$ con suma y producto</div>
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'incorrect')">Polinomios de grado ‚â§ 3</div>
          </div>
          
          <div class="quiz-question">
            2. La dimensi√≥n del espacio de matrices 3√ó3 es:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'incorrect')">3</div>
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'incorrect')">6</div>
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'correct')">9</div>
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'incorrect')">27</div>
          </div>
          
          <div class="quiz-question">
            3. Si $W_1$ y $W_2$ son subespacios de $V$, entonces siempre es subespacio:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'incorrect')">$W_1 \cup W_2$</div>
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'correct')">$W_1 \cap W_2$</div>
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'incorrect')">$W_1 - W_2$</div>
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'incorrect')">$W_1 \times W_2$</div>
          </div>
          
          <div class="quiz-question">
            4. Tres vectores en $\mathbb{R}^2$:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'correct')">Son siempre linealmente dependientes</div>
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'incorrect')">Son siempre linealmente independientes</div>
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'incorrect')">Pueden formar una base de $\mathbb{R}^2$</div>
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'incorrect')">Generan $\mathbb{R}^3$</div>
          </div>
          
          <div class="quiz-question">
            5. En el m√©todo de m√≠nimos cuadrados, si $A$ es de tama√±o $m \times n$ con $m > n$, el sistema $A\mathbf{x} = \mathbf{b}$:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'incorrect')">Tiene soluci√≥n √∫nica siempre</div>
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'correct')">Generalmente no tiene soluci√≥n exacta</div>
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'incorrect')">Siempre tiene infinitas soluciones</div>
            <div class="quiz-option" onclick="checkFinalAnswer(this, 'incorrect')">No se puede resolver</div>
          </div>
        </div>

        <h3>üìö Ejercicios Propuestos</h3>
        
        <div class="card">
          <h4>Ejercicio 1: Verificaci√≥n de subespacios</h4>
          <p>Determina si los siguientes conjuntos son subespacios de $\mathbb{R}^3$:</p>
          <ol style="text-align: left; line-height: 2;">
            <li>$W_1 = \{(x,y,z) : x + 2y - z = 0\}$</li>
            <li>$W_2 = \{(x,y,z) : x^2 + y^2 + z^2 \leq 1\}$</li>
            <li>$W_3 = \{(x,y,z) : x \geq 0, y \geq 0, z \geq 0\}$</li>
            <li>$W_4 = \{(x,y,z) : x = y = z\}$</li>
          </ol>
        </div>

        <div class="card">
          <h4>Ejercicio 2: Base y dimensi√≥n</h4>
          <p>Para cada espacio vectorial, encuentra una base y determina su dimensi√≥n:</p>
          <ol style="text-align: left; line-height: 2;">
            <li>El conjunto de matrices sim√©tricas 2√ó2</li>
            <li>El conjunto de polinomios $p(x)$ tales que $p(1) = 0$</li>
            <li>El espacio soluci√≥n del sistema:
              $\begin{cases}
              x + y + z = 0 \\
              2x - y + 3z = 0
              \end{cases}$</li>
          </ol>
        </div>

        <div class="card">
          <h4>Ejercicio 3: Aplicaci√≥n pr√°ctica</h4>
          <p>Una empresa registra los siguientes datos de producci√≥n:</p>
          <table class="data-table">
            <tr><th>D√≠a</th><th>Horas trabajadas</th><th>Unidades producidas</th></tr>
            <tr><td>1</td><td>6</td><td>120</td></tr>
            <tr><td>2</td><td>7</td><td>145</td></tr>
            <tr><td>3</td><td>8</td><td>160</td></tr>
            <tr><td>4</td><td>9</td><td>180</td></tr>
            <tr><td>5</td><td>10</td><td>195</td></tr>
          </table>
          <p>Utiliza el m√©todo de m√≠nimos cuadrados para encontrar la relaci√≥n lineal y predecir la producci√≥n para 12 horas de trabajo.</p>
        </div>

        <h3>üìñ Recursos Adicionales</h3>
        
        <div class="three-col">
          <div class="card">
            <h4>üìö Bibliograf√≠a</h4>
            <ul style="text-align: left; line-height: 1.8; font-size: 0.9rem;">
              <li>Strang, G. (2016). Introduction to Linear Algebra</li>
              <li>Lay, D. C. (2012). √Ålgebra lineal y sus aplicaciones</li>
              <li>Grossman, S. I. (2012). √Ålgebra lineal</li>
              <li>Axler, S. (2015). √Ålgebra lineal hecho bien</li>
            </ul>
          </div>
          
          <div class="card">
            <h4>üé• Videos Recomendados</h4>
            <ul style="text-align: left; line-height: 1.8; font-size: 0.9rem;">
              <li>3Blue1Brown: Essence of Linear Algebra</li>
              <li>MIT OpenCourseWare: 18.06 Linear Algebra</li>
              <li>Khan Academy: √Ålgebra Lineal</li>
              <li>Profesor en l√≠nea: Espacios vectoriales</li>
            </ul>
          </div>
          
          <div class="card">
            <h4>üíª Software</h4>
            <ul style="text-align: left; line-height: 1.8; font-size: 0.9rem;">
              <li>MATLAB/Octave</li>
              <li>Python con NumPy/SciPy</li>
              <li>GeoGebra</li>
              <li>Wolfram Alpha</li>
            </ul>
          </div>
        </div>

        <div class="card" style="background: var(--grad-primary); text-align: center; padding: 40px; margin-top: 40px;">
          <h2 style="color: white; font-size: 2rem; margin-bottom: 20px;">üéì ¬°Felicidades!</h2>
          <p style="color: white; font-size: 1.2rem; line-height: 1.8;">
            Has completado la Unidad III: Espacios Vectoriales.<br>
            Comprendes ahora la definici√≥n de espacio vectorial como una abstracci√≥n<br>
            fundamental para relacionar conceptos matem√°ticos con aplicaciones pr√°cticas.
          </p>
          <p style="color: white; font-weight: bold; margin-top: 30px; font-size: 1.1rem;">
            Universidad del SABES
          </p>
        </div>
      </div>
    </div>
  </div>

</div>

<!-- ======= JAVASCRIPT ======= -->
<script>
// ========== VARIABLES GLOBALES ==========
let currentSlide = 0;
let zoom = 1;
const totalSlides = document.querySelectorAll('.slide').length;
let dataPointCount = 5; // Para la calculadora de m√≠nimos cuadrados

// Variable para verificar si MathJax est√° listo
window.mathJaxReady = false;

// ========== INICIALIZACI√ìN ==========
document.addEventListener('DOMContentLoaded', () => {
  showSlide(0);
  initializeParticles();
  updateProgress();
  console.log('‚úÖ Unidad III: Espacios Vectoriales - Universidad del SABES');
  console.log('üìä Total de slides:', totalSlides);
});

// ========== NAVEGACI√ìN ==========
function showSlide(index) {
  if (index < 0) index = 0;
  if (index >= totalSlides) index = totalSlides - 1;
  
  currentSlide = index;
  
  const slides = document.querySelectorAll('.slide');
  slides.forEach((slide, i) => {
    slide.classList.remove('active', 'previous');
    if (i < currentSlide) {
      slide.classList.add('previous');
    }
  });
  
  slides[currentSlide].classList.add('active');
  
  updateNavigationButtons();
  updateProgress();
  
  // Renderizar MathJax solo si est√° listo
  if (window.mathJaxReady && typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
    MathJax.typesetPromise([slides[currentSlide]]).catch((err) => console.log('MathJax error:', err));
  }
}

function goToSlide(index) {
  showSlide(index);
}

function nextSlide() {
  if (currentSlide < totalSlides - 1) {
    showSlide(currentSlide + 1);
  }
}

function previousSlide() {
  if (currentSlide > 0) {
    showSlide(currentSlide - 1);
  }
}

function goToStart() {
  showSlide(0);
}

function goToEnd() {
  showSlide(totalSlides - 1);
}

function updateNavigationButtons() {
  // Actualizar estado de botones si existen
  const prevBtn = document.getElementById('btn-prev');
  const nextBtn = document.getElementById('btn-next');
  
  if (prevBtn) {
    prevBtn.disabled = currentSlide === 0;
    prevBtn.setAttribute('aria-disabled', currentSlide === 0);
  }
  
  if (nextBtn) {
    nextBtn.disabled = currentSlide === totalSlides - 1;
    nextBtn.setAttribute('aria-disabled', currentSlide === totalSlides - 1);
  }
}

function updateProgress() {
  const progressBar = document.getElementById('progress');
  const progressContainer = document.querySelector('.progress-bar');
  const progress = ((currentSlide + 1) / totalSlides) * 100;
  
  if (progressBar) {
    progressBar.style.width = progress + '%';
  }
  
  // Actualizar atributos ARIA
  if (progressContainer) {
    progressContainer.setAttribute('aria-valuenow', Math.round(progress));
    progressContainer.setAttribute('aria-valuetext', `Diapositiva ${currentSlide + 1} de ${totalSlides}`);
  }
}

// ========== BARRAS LATERALES ==========
const btnHome = document.getElementById('btn-home'); if (btnHome) btnHome.onclick = () => goToStart();
const btnPrev2 = document.getElementById('btn-prev'); if (btnPrev2) btnPrev2.onclick = () => previousSlide();
const btnNext2 = document.getElementById('btn-next'); if (btnNext2) btnNext2.onclick = () => nextSlide();

const btnAccess = document.getElementById('btn-access'); if (btnAccess) btnAccess.onclick = () => {
  document.getElementById('accessibilityModal').classList.add('active');
};

const btnHelp = document.getElementById('btn-help'); if (btnHelp) btnHelp.onclick = () => {
  alert('‚ùì Ayuda de Navegaci√≥n:\n\nüñ±Ô∏è Usa los botones laterales\n‚å®Ô∏è Teclas: ‚Üê Atr√°s | ‚Üí Adelante\nüîç Botones + y - para Zoom\n‚õ∂ Pantalla completa disponible\nüí¨ Modal para m√°s informaci√≥n');
};

// Tema
const themeBtn = document.getElementById('btn-theme');
const toggleTheme = () => {
  const html = document.documentElement;
  const currentTheme = html.getAttribute('data-theme');
  const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
  html.setAttribute('data-theme', newTheme);
  document.body.setAttribute('data-theme', newTheme);
  if (themeBtn) themeBtn.textContent = newTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
};
if (themeBtn) themeBtn.onclick = toggleTheme;

// Zoom
const btnZoomIn = document.getElementById('btn-zoom-in');
if (btnZoomIn) {
  btnZoomIn.onclick = () => {
    zoom = Math.min(2, zoom + 0.1);
    document.body.style.transform = `scale(${zoom})`;
    document.body.style.transformOrigin = 'center top';
  };
}

const btnZoomOut = document.getElementById('btn-zoom-out');
if (btnZoomOut) {
  btnZoomOut.onclick = () => {
    zoom = Math.max(0.8, zoom - 0.1);
    document.body.style.transform = `scale(${zoom})`;
    document.body.style.transformOrigin = 'center top';
  };
}

// Pantalla completa
const btnFullscreen = document.getElementById('btn-fullscreen');
if (btnFullscreen) {
  btnFullscreen.onclick = () => {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen();
    } else {
      document.exitFullscreen();
    }
  };
}

// Modal
const btnModal = document.getElementById('btn-modal'); if (btnModal) btnModal.onclick = () => {
  document.getElementById('infoModal').classList.add('active');
};

function cerrarModal() {
  document.getElementById('infoModal').classList.remove('active');
}

function cerrarModalAccesibilidad() {
  document.getElementById('accessibilityModal').classList.remove('active');
}

const btnInfo = document.getElementById('btn-info'); if (btnInfo) btnInfo.onclick = () => {
  alert('‚ÑπÔ∏è Informaci√≥n del Curso:\n\nüìö √Ålgebra Lineal - Unidad III\nüéì Universidad del SABES\n\n‚ú® Proyecto educativo interactivo\n‚úÖ Cumple WCAG 2.2 AA\nüåê Dise√±o responsive');
};

const btnExit = document.getElementById('btn-exit'); if (btnExit) btnExit.onclick = () => {
  if (confirm('‚ùå ¬øDeseas salir de la presentaci√≥n?')) {
    window.close();
  }
};

// ========== NAVEGACI√ìN POR TECLADO ==========
document.addEventListener('keydown', (e) => {
  // Evitar navegaci√≥n si hay un modal abierto (excepto Escape)
  const modalActive = document.querySelector('.modal.active');
  if (modalActive && e.key !== 'Escape') {
    return;
  }
  
  if (e.key === 'ArrowRight' || e.key === 'PageDown' || e.key === ' ' || e.key === 'Enter') {
    e.preventDefault();
    nextSlide();
  } else if (e.key === 'ArrowLeft' || e.key === 'PageUp') {
    e.preventDefault();
    previousSlide();
  } else if (e.key === 'Home') {
    e.preventDefault();
    goToStart();
  } else if (e.key === 'End') {
    e.preventDefault();
    goToEnd();
  } else if (e.key === 'Escape') {
    cerrarModal();
    cerrarModalAccesibilidad();
  } else if (e.key === 'f' || e.key === 'F') {
    e.preventDefault();
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen();
    } else {
      document.exitFullscreen();
    }
  } else if (e.key === '+' || e.key === '=') {
    e.preventDefault();
    zoom = Math.min(2, zoom + 0.1);
    document.body.style.transform = `scale(${zoom})`;
    document.body.style.transformOrigin = 'center top';
  } else if (e.key === '-' || e.key === '_') {
    e.preventDefault();
    zoom = Math.max(0.8, zoom - 0.1);
    document.body.style.transform = `scale(${zoom})`;
    document.body.style.transformOrigin = 'center top';
  } else if (e.key === '0') {
    e.preventDefault();
    zoom = 1;
    document.body.style.transform = `scale(${zoom})`;
    document.body.style.transformOrigin = 'center top';
  } else if (e.key >= '0' && e.key <= '7') {
    // Navegaci√≥n directa a slides con teclas num√©ricas
    e.preventDefault();
    const slideNumber = parseInt(e.key);
    if (slideNumber < totalSlides) {
      goToSlide(slideNumber);
    }
  }
});

// ========== PART√çCULAS ANIMADAS ==========
function initializeParticles() {
  const particlesContainer = document.getElementById('particles');
  if (!particlesContainer) return;
  
  for (let i = 0; i < 20; i++) {
    const particle = document.createElement('div');
    particle.className = 'particle';
    particle.style.left = Math.random() * 100 + '%';
    particle.style.animationDelay = Math.random() * 8 + 's';
    particle.style.animationDuration = (Math.random() * 4 + 6) + 's';
    particlesContainer.appendChild(particle);
  }
}

// ========== QUIZ INTERACTIVO ==========
function checkAnswer(element, type) {
  // Remover clases previas de todas las opciones del mismo quiz
  const quizContainer = element.closest('.quiz-options');
  if (!quizContainer) return;
  
  const options = quizContainer.querySelectorAll('.quiz-option');
  options.forEach(opt => {
    opt.classList.remove('correct', 'incorrect');
  });
  
  // Agregar clase seg√∫n respuesta
  if (type === 'correct') {
    element.classList.add('correct');
    setTimeout(() => {
      alert('‚úÖ ¬°Correcto! Excelente comprensi√≥n del tema.');
    }, 100);
  } else {
    element.classList.add('incorrect');
    setTimeout(() => {
      alert('‚ùå Incorrecto. Revisa el contenido del tema.');
      setTimeout(() => {
        element.classList.remove('incorrect');
      }, 500);
    }, 100);
  }
}

function checkFinalAnswer(element, type) {
  checkAnswer(element, type);
  
  // Contar respuestas correctas
  const quizContainer = element.closest('.quiz-container');
  const correctAnswers = quizContainer.querySelectorAll('.quiz-option.correct').length;
  
  // Si hay al menos 3 correctas, mostrar mensaje final
  if (correctAnswers >= 3) {
    setTimeout(() => {
      if (!quizContainer.dataset.celebrated) {
        quizContainer.dataset.celebrated = 'true';
        alert('üéâ ¬°Excelente trabajo! Has demostrado un buen dominio de la unidad.');
      }
    }, 500);
  }
}

// ========== BOTONES INFO ==========
function toggleInfo(infoId) {
  const infoBox = document.getElementById(infoId);
  if (infoBox) {
    infoBox.classList.toggle('active');
  }
}

// ========== CALCULADORA DE M√çNIMOS CUADRADOS ==========
function calculateLeastSquares() {
  try {
    // Obtener datos
    const xValues = [];
    const yValues = [];
    
    for (let i = 1; i <= dataPointCount; i++) {
      const x = parseFloat(document.getElementById(`x${i}`).value);
      const y = parseFloat(document.getElementById(`y${i}`).value);
      
      if (!isNaN(x) && !isNaN(y)) {
        xValues.push(x);
        yValues.push(y);
      }
    }
    
    if (xValues.length < 2) {
      throw new Error('Se necesitan al menos 2 puntos de datos');
    }
    
    const n = xValues.length;
    
    // Calcular sumatorias
    let sumX = 0, sumY = 0, sumXY = 0, sumX2 = 0;
    
    for (let i = 0; i < n; i++) {
      sumX += xValues[i];
      sumY += yValues[i];
      sumXY += xValues[i] * yValues[i];
      sumX2 += xValues[i] * xValues[i];
    }
    
    // Calcular coeficientes
    const denom = n * sumX2 - sumX * sumX;
    
    if (Math.abs(denom) < 1e-10) {
      throw new Error('Los datos no permiten calcular una regresi√≥n lineal √∫nica');
    }
    
    const b = (n * sumXY - sumX * sumY) / denom;
    const a = (sumY - b * sumX) / n;
    
    // Calcular coeficiente de determinaci√≥n R¬≤
    let ssTotal = 0, ssResidual = 0;
    const yMean = sumY / n;
    
    for (let i = 0; i < n; i++) {
      const yPred = a + b * xValues[i];
      ssTotal += Math.pow(yValues[i] - yMean, 2);
      ssResidual += Math.pow(yValues[i] - yPred, 2);
    }
    
    const rSquared = 1 - (ssResidual / ssTotal);
    
    // Mostrar resultados
    const resultDiv = document.getElementById('calculationResult');
    resultDiv.innerHTML = `
      <h4>Resultados de la Regresi√≥n Lineal:</h4>
      <p><strong>Ecuaci√≥n:</strong> y = ${a.toFixed(2)} + ${b.toFixed(2)}x</p>
      <p><strong>Coeficiente de determinaci√≥n (R¬≤):</strong> ${rSquared.toFixed(4)}</p>
      <p><strong>Interpretaci√≥n:</strong></p>
      <ul style="text-align: left; margin-left: 20px;">
        <li><strong>Intercepto (a):</strong> Cuando x = 0, y ‚âà ${a.toFixed(2)}</li>
        <li><strong>Pendiente (b):</strong> Por cada unidad que aumenta x, y aumenta ${b.toFixed(2)} unidades</li>
        <li><strong>R¬≤:</strong> ${(rSquared * 100).toFixed(1)}% de la variaci√≥n en y se explica por x</li>
      </ul>
      <p><strong>Predicci√≥n para x = 12:</strong> y ‚âà ${(a + b * 12).toFixed(2)}</p>
    `;
    
    // Renderizar MathJax si est√° disponible
    if (window.mathJaxReady && typeof MathJax !== 'undefined') {
      setTimeout(() => {
        MathJax.typesetPromise([resultDiv]).catch(err => console.log('MathJax error:', err));
      }, 100);
    }
    
  } catch (error) {
    document.getElementById('calculationResult').innerHTML = `
      <h4>Error en el c√°lculo:</h4>
      <p>${error.message}</p>
      <p>Verifica que todos los datos sean n√∫meros v√°lidos.</p>
    `;
  }
}

function addDataPoint() {
  dataPointCount++;
  const table = document.getElementById('dataTable');
  const newRow = table.insertRow(-1);
  
  newRow.innerHTML = `
    <td>${dataPointCount}</td>
    <td><input type="number" class="data-input" id="x${dataPointCount}" value="${dataPointCount + 1}" step="0.1"></td>
    <td><input type="number" class="data-input" id="y${dataPointCount}" value="${(dataPointCount + 1) * 40}" step="0.1"></td>
  `;
}

function resetCalculator() {
  dataPointCount = 5;
  
  // Restablecer valores predeterminados
  const defaultValues = [
    [2, 100],
    [3, 140],
    [4, 180],
    [5, 210],
    [6, 240]
  ];
  
  for (let i = 1; i <= 5; i++) {
    document.getElementById(`x${i}`).value = defaultValues[i-1][0];
    document.getElementById(`y${i}`).value = defaultValues[i-1][1];
  }
  
  // Eliminar filas adicionales
  const table = document.getElementById('dataTable');
  while (table.rows.length > 6) { // 1 encabezado + 5 filas
    table.deleteRow(-1);
  }
  
  document.getElementById('calculationResult').innerHTML = `
    <h4>Resultados del C√°lculo:</h4>
    <p>Ingresa datos y haz clic en "Calcular"</p>
  `;
}

// ========== VERIFICADOR DE DEPENDENCIA LINEAL ==========
function checkDependence2D() {
  const v1x = parseFloat(document.getElementById('v1x').value);
  const v1y = parseFloat(document.getElementById('v1y').value);
  const v2x = parseFloat(document.getElementById('v2x').value);
  const v2y = parseFloat(document.getElementById('v2y').value);
  
  if (isNaN(v1x) || isNaN(v1y) || isNaN(v2x) || isNaN(v2y)) {
    document.getElementById('dependenceResult').innerHTML = `
      <p>Por favor ingresa valores num√©ricos v√°lidos.</p>
    `;
    return;
  }
  
  // Calcular determinante
  const determinant = v1x * v2y - v1y * v2x;
  const areDependent = Math.abs(determinant) < 1e-10;
  
  let resultHTML = `
    <h4>An√°lisis de Dependencia Lineal:</h4>
    <p><strong>Vector 1:</strong> (${v1x}, ${v1y})</p>
    <p><strong>Vector 2:</strong> (${v2x}, ${v2y})</p>
    <p><strong>Determinante:</strong> ${determinant.toFixed(4)}</p>
    <p><strong>Resultado:</strong> Los vectores son <strong>${areDependent ? 'LINEALMENTE DEPENDIENTES' : 'LINEALMENTE INDEPENDIENTES'}</strong></p>
  `;
  
  if (areDependent) {
    // Encontrar la relaci√≥n
    let relation = '';
    if (v1x !== 0 && v2x !== 0) {
      const ratio = v2x / v1x;
      if (Math.abs(v2y - v1y * ratio) < 1e-10) {
        relation = `v‚ÇÇ = ${ratio.toFixed(2)} v‚ÇÅ`;
      }
    } else if (v1y !== 0 && v2y !== 0) {
      const ratio = v2y / v1y;
      if (Math.abs(v2x - v1x * ratio) < 1e-10) {
        relation = `v‚ÇÇ = ${ratio.toFixed(2)} v‚ÇÅ`;
      }
    }
    
    if (relation) {
      resultHTML += `<p><strong>Relaci√≥n:</strong> ${relation}</p>`;
    }
  } else {
    resultHTML += `<p><strong>Interpretaci√≥n:</strong> Los vectores forman una base de ‚Ñù¬≤</p>`;
  }
  
  document.getElementById('dependenceResult').innerHTML = resultHTML;
}

// ========== VERIFICADOR DE SUBESPACIOS ==========
function checkSubspace() {
  const a = parseFloat(document.getElementById('coeffA').value);
  const b = parseFloat(document.getElementById('coeffB').value);
  const c = parseFloat(document.getElementById('coeffC').value);
  const d = parseFloat(document.getElementById('coeffD').value);
  
  if (isNaN(a) || isNaN(b) || isNaN(c) || isNaN(d)) {
    document.getElementById('subspaceResult').innerHTML = `
      <p>Por favor ingresa coeficientes num√©ricos v√°lidos.</p>
    `;
    return;
  }
  
  const equation = `${a !== 0 ? a + 'x' : ''}${b !== 0 ? (b > 0 && a !== 0 ? '+' : '') + b + 'y' : ''}${c !== 0 ? (c > 0 && (a !== 0 || b !== 0) ? '+' : '') + c + 'z' : ''} = ${d}`;
  
  // Un plano es subespacio si y solo si d = 0
  const isSubspace = Math.abs(d) < 1e-10;
  
  let resultHTML = `
    <h4>An√°lisis del Conjunto:</h4>
    <p><strong>Ecuaci√≥n del plano:</strong> ${equation}</p>
    <p><strong>Es subespacio de ‚Ñù¬≥:</strong> <strong>${isSubspace ? 'S√ç ‚úÖ' : 'NO ‚ùå'}</strong></p>
  `;
  
  if (isSubspace) {
    resultHTML += `
      <p><strong>Verificaci√≥n de axiomas:</strong></p>
      <ol style="text-align: left; margin-left: 20px;">
        <li>‚úÖ Contiene al origen (0,0,0): ${a}¬∑0 + ${b}¬∑0 + ${c}¬∑0 = 0 = ${d}</li>
        <li>‚úÖ Cerrado bajo suma: Si (x‚ÇÅ,y‚ÇÅ,z‚ÇÅ) y (x‚ÇÇ,y‚ÇÇ,z‚ÇÇ) satisfacen la ecuaci√≥n, su suma tambi√©n la satisface</li>
        <li>‚úÖ Cerrado bajo multiplicaci√≥n por escalar: Si (x,y,z) satisface la ecuaci√≥n, Œ±(x,y,z) tambi√©n la satisface</li>
      </ol>
      <p><strong>Dimensi√≥n:</strong> ${(a === 0 && b === 0 && c === 0) ? '3 (todo ‚Ñù¬≥)' : '2 (plano)'}</p>
    `;
  } else {
    resultHTML += `
      <p><strong>Raz√≥n:</strong> No contiene al vector cero (origen)</p>
      <p><strong>Verificaci√≥n:</strong> (0,0,0) no satisface la ecuaci√≥n porque ${a}¬∑0 + ${b}¬∑0 + ${c}¬∑0 = 0 ‚â† ${d}</p>
      <p><strong>Conclusi√≥n:</strong> Es un plano paralelo al subespacio ${a}x + ${b}y + ${c}z = 0, pero desplazado</p>
    `;
  }
  
  document.getElementById('subspaceResult').innerHTML = resultHTML;
}

// ========== ACTUALIZACI√ìN DEL CONTADOR ==========
(function() {
  'use strict';
  
  function safeUpdateProgress() {
    try {
      const slides = document.querySelectorAll('.slide');
      const activeSlide = document.querySelector('.slide.active');
      
      if (!activeSlide || slides.length === 0) return;
      
      const currentIndex = Array.from(slides).indexOf(activeSlide);
      const total = slides.length;
      
      const progressBar = document.getElementById('progress');
      if (progressBar) {
        progressBar.style.width = ((currentIndex + 1) / total * 100) + '%';
      }
      
      // Actualizar contador visual si existe
      const counters = document.querySelectorAll('.slide-counter');
      counters.forEach(counter => {
        counter.textContent = `${currentIndex + 1} / ${total}`;
      });
      
    } catch (e) {
      console.warn('Error actualizaci√≥n:', e.message);
    }
  }
  
  document.addEventListener('DOMContentLoaded', function() {
    setTimeout(safeUpdateProgress, 200);
    
    const observer = new MutationObserver(safeUpdateProgress);
    const container = document.querySelector('.slides-container') || document.body;
    observer.observe(container, {
      attributes: true,
      subtree: true,
      attributeFilter: ['class']
    });
    
    document.addEventListener('click', function(e) {
      if (e.target.closest('[class*="btn"]')) {
        setTimeout(safeUpdateProgress, 100);
      }
    });
    
    document.addEventListener('keydown', function(e) {
      if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
        setTimeout(safeUpdateProgress, 100);
      }
    });
    
    // Crear contador si no existe
    if (!document.querySelector('.slide-counter')) {
      const counter = document.createElement('div');
      counter.className = 'slide-counter';
      counter.textContent = '1 / ' + document.querySelectorAll('.slide').length;
      document.body.appendChild(counter);
    }
    
    console.log('‚úÖ Actualizaci√≥n de progreso activada');
  });
})();
</script>

<div class="slide-counter">1 / 8</div>

</body>
</html>
