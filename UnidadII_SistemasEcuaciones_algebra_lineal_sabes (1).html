<!DOCTYPE html>
<html data-theme="light" lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1, viewport-fit=cover" name="viewport"/>
<meta name="description" content="Curso interactivo de Álgebra Lineal - Unidad II: Sistemas de Ecuaciones Lineales. Cumple con estándares WCAG 2.2 AA de accesibilidad."/>
<meta name="keywords" content="álgebra lineal, sistemas de ecuaciones, Gauss, Gauss-Jordán, Cramer, educación, SABES, accesible, WCAG"/>
<meta name="author" content="Universidad del SABES"/>
<title>Álgebra Lineal - Unidad II: Sistemas de Ecuaciones Lineales | Universidad del SABES</title>

<!-- MathJax Configuration -->
<script>
window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']],
    processEscapes: true,
    tags: 'ams'
  },
  svg: {
    fontCache: 'global'
  },
  startup: {
    ready: function () {
      MathJax.startup.defaultReady();
      console.log('✅ MathJax completamente listo');
      window.mathJaxReady = true;
      // Renderizar el slide actual después de que MathJax esté listo
      setTimeout(() => {
        const currentSlideElement = document.querySelector('.slide.active');
        if (currentSlideElement) {
          MathJax.typesetPromise([currentSlideElement]).catch((err) => console.log('MathJax error:', err));
        }
      }, 100);
    }
  }
};
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<!-- Three.js Library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<style>
/* ======= IMPORTACIÓN DE FUENTES ======= */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&family=JetBrains+Mono:wght@400;700&display=swap');

/* ======= FOCO VISIBLE (WCAG 2.4.7 - AA) ======= */
*:focus {
  outline: 3px solid var(--accent);
  outline-offset: 2px;
}

button:focus,
a:focus,
input:focus,
.quiz-option:focus {
  outline: 3px solid #f57c00;
  outline-offset: 3px;
  box-shadow: 0 0 0 4px rgba(245, 124, 0, 0.2);
}

.control-btn:focus {
  outline: 3px solid #ffffff;
  outline-offset: 2px;
  box-shadow: 0 0 0 5px rgba(245, 124, 0, 0.4);
}

.nav-btn:focus {
  outline: 3px solid #f57c00;
  outline-offset: 2px;
  transform: scale(1.05);
}

/* Skip to main content link (invisible hasta que recibe foco) */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--accent);
  color: white;
  padding: 10px 20px;
  text-decoration: none;
  font-weight: bold;
  z-index: 10000;
  border-radius: 0 0 8px 0;
}

.skip-link:focus {
  top: 0;
}

/* ======= SKIP LINK (WCAG 2.4.1) ======= */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: #f57c00;
  color: white;
  padding: 12px 20px;
  text-decoration: none;
  font-weight: bold;
  z-index: 10000;
  border-radius: 0 0 8px 0;
}

.skip-link:focus {
  top: 0;
  outline: 3px solid #ffffff;
  outline-offset: 2px;
}

/* ======= FOCO VISIBLE MEJORADO (WCAG 2.4.7 y 2.4.11) ======= */
*:focus {
  outline: 3px solid var(--primary);
  outline-offset: 2px;
}

*:focus:not(:focus-visible) {
  outline: none;
}

*:focus-visible {
  outline: 3px solid var(--primary);
  outline-offset: 2px;
  box-shadow: 0 0 0 5px rgba(37, 99, 235, 0.2);
}

button:focus-visible,
a:focus-visible,
input:focus-visible {
  outline: 3px solid #f57c00;
  outline-offset: 2px;
  box-shadow: 0 0 0 5px rgba(245, 124, 0, 0.2);
}

[data-theme="dark"] *:focus-visible {
  outline-color: var(--secondary);
  box-shadow: 0 0 0 5px rgba(0, 212, 170, 0.2);
}

/* ======= MODO ALTO CONTRASTE (WCAG 2.2) ======= */
@media (prefers-contrast: high) {
  :root {
    --primary: #0000ff;
    --secondary: #008000;
    --accent: #ff8800;
  }
  
  [data-theme="light"] {
    --ink: #000000;
    --bg: #ffffff;
    --muted: #000000;
  }
  
  [data-theme="dark"] {
    --ink: #ffffff;
    --bg: #000000;
    --muted: #ffffff;
  }
  
  .card, .definition-box, .example-box {
    border: 2px solid currentColor !important;
  }
}

/* ======= RESPETO A PREFERENCIAS DE MOVIMIENTO (WCAG 2.2) ======= */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  .slide {
    transition: none !important;
  }
  
  .particle, .symbol, .brackets {
    animation: none !important;
  }
}

/* ======= VARIABLES CSS ======= */
:root{ 
  --base-font:16px; 
  --bg:#1a1f2e;
  --panel:#2a3142ee;
  --ink:#ffffff;
  --muted:#94a3b8;
  --primary:#6496fa;
  --secondary:#00d4aa;
  --accent:#ffd60a;
  --success:#06d6a0;
  --warn:#ffbe0b;
  --danger:#ef476f;
  --steel:#64748b;
  --grad-primary: linear-gradient(135deg, #6496fa 0%, #00d4aa 100%);
}

[data-theme="light"] {
  --bg:#f8fafc;
  --panel:#ffffff;
  --ink:#1e293b;
  --muted:#475569;
  --primary:#2563eb;
  --secondary:#059669;
  --accent:#d97706;
  --success:#059669;
  --warn:#d97706;
  --danger:#dc2626;
  --steel:#64748b;
}

*{box-sizing:border-box;margin:0;padding:0;}
html,body{min-height:100vh;font-size:var(--base-font);line-height:1.65;}

body{
  font-family:'Inter',sans-serif;
  color:var(--ink);
  background:var(--bg);
  min-height:100vh;
  padding:0;
  overflow-x: hidden;
  transition: all 0.3s ease;
}

/* ======= BANNER SUPERIOR SABES ======= */
.banner-sabes {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 90px;
  width: 100%;
  position: fixed;
  top: 0;
  z-index: 1000;
  background: linear-gradient(120deg, #b56c13 0%, #e39a27 25%, #5ca8eb 70%, #a7d3f9 100%);
  backdrop-filter: blur(10px) saturate(180%);
  background-blend-mode: overlay;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25);
  border-bottom: 2px solid rgba(255, 255, 255, 0.15);
}
.banner-sabes img {
  height: 88px;
  width: auto;
  object-fit: contain;
  opacity: 0.98;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

/* ======= BARRAS LATERALES SABES ======= */
.sidebar {
  position: fixed;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  gap: 15px;
  z-index: 900;
  padding: 10px;
  border-radius: 16px;
  backdrop-filter: blur(10px) saturate(180%);
  background: rgba(255, 255, 255, 0.15);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25);
}
.left-bar { left: 15px; }
.right-bar { right: 15px; }

.control-btn {
  width: 54px;
  height: 54px;
  border-radius: 50%;
  border: none;
  background: #f57c00;
  color: white;
  font-size: 24px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  cursor: pointer;
  transition: transform 0.3s ease, background 0.3s ease;
}
.control-btn:hover {
  transform: scale(1.15) rotate(5deg);
  background: #ff9800;
}

/* ======= BARRA DE PROGRESO ======= */
.progress-bar {
  position: fixed;
  top: 90px;
  left: 0;
  width: 100%;
  height: 4px;
  background: rgba(100, 150, 250, 0.2);
  z-index: 999;
}

.progress {
  height: 100%;
  background: var(--grad-primary);
  width: 0%;
  transition: width 0.3s ease;
}

/* ======= INDICADOR DE PROGRESO ======= */
.progress-indicator {
  position: fixed;
  top: 110px;
  right: 20px;
  background: rgba(42, 49, 66, 0.9);
  padding: 10px 20px;
  border-radius: 20px;
  z-index: 999;
  font-weight: 600;
  font-size: 0.9rem;
  border: 1px solid rgba(100, 150, 250, 0.3);
  backdrop-filter: blur(10px);
}

[data-theme="light"] .progress-indicator {
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(59, 130, 246, 0.3);
}

/* ======= MODAL SABES ======= */
.modal {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--panel);
  color: var(--ink);
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
  z-index: 2000;
  width: 60%;
  max-width: 500px;
  border: 2px solid rgba(100, 150, 250, 0.3);
  max-height: 80vh;
  overflow-y: auto;
}
.modal.active {
  display: block;
  animation: fadeIn 0.5s ease forwards;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translate(-50%, -60%); }
  to { opacity: 1; transform: translate(-50%, -50%); }
}

.modal h3 {
  margin-bottom: 15px;
  color: var(--primary);
}

.modal button {
  margin-top: 20px;
  padding: 10px 20px;
  background: var(--primary);
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
}

.modal button:hover {
  background: var(--secondary);
}

/* ======= CONTROLES DE NAVEGACIÓN INFERIOR ======= */
.nav-controls {
  position: absolute;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 15px;
  z-index: 100;
  background: rgba(255, 255, 255, 0.95);
  padding: 15px 25px;
  border-radius: 50px;
  backdrop-filter: blur(10px);
  border: 2px solid rgba(37, 99, 235, 0.3);
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

[data-theme="dark"] .nav-controls {
  background: rgba(42, 49, 66, 0.95);
  border: 2px solid rgba(100, 150, 250, 0.3);
}

.nav-btn {
  background: #2563eb;
  color: white;
  border: none;
  border-radius: 12px;
  padding: 14px 24px;
  cursor: pointer;
  font-weight: 600;
  font-size: 15px;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 110px;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3);
}

.nav-btn:hover:not(:disabled) {
  background: #1d4ed8;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
}

.nav-btn:active:not(:disabled) {
  transform: translateY(0);
  box-shadow: 0 1px 4px rgba(37, 99, 235, 0.3);
}

[data-theme="dark"] .nav-btn {
  background: #3b82f6;
}

[data-theme="dark"] .nav-btn:hover:not(:disabled) {
  background: #2563eb;
}

.nav-btn:disabled {
  background: #64748b;
  color: #ffffff;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
  opacity: 0.6;
}

[data-theme="light"] .nav-btn:disabled {
  background: #94a3b8;
  color: #1e293b;
}

/* ======= SLIDES CONTAINER ======= */
.slides-container {
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  position: relative;
  padding-top: 94px;
}

.slide {
  position: absolute;
  top: 94px;
  left: 0;
  width: 100%;
  height: calc(100% - 94px);
  padding: 40px 100px 140px 100px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  opacity: 0;
  transform: translateX(100%);
  transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  overflow-y: auto;
}

.slide.active {
  opacity: 1;
  transform: translateX(0);
}

.slide.previous {
  transform: translateX(-100%);
}

/* ======= PORTADA MEJORADA ======= */
.cover-slide {
  text-align: center;
  background: 
    radial-gradient(circle at 20% 80%, rgba(100, 150, 250, 0.15) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(0, 212, 170, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(255, 214, 10, 0.05) 0%, transparent 50%),
    linear-gradient(135deg, var(--bg) 0%, color-mix(in srgb, var(--bg) 70%, var(--primary) 30%) 100%);
  position: relative;
  overflow: hidden;
}

[data-theme="light"] .cover-slide {
  background: 
    radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(16, 185, 129, 0.08) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(245, 158, 11, 0.05) 0%, transparent 50%),
    linear-gradient(135deg, var(--bg) 0%, color-mix(in srgb, var(--bg) 90%, var(--primary) 10%) 100%);
}

/* Grid de fondo animado */
.matrix-grid-bg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    linear-gradient(rgba(100, 150, 250, 0.1) 1px, transparent 1px),
    linear-gradient(90deg, rgba(100, 150, 250, 0.1) 1px, transparent 1px);
  background-size: 50px 50px;
  animation: gridMove 20s linear infinite;
  opacity: 0.3;
}

[data-theme="light"] .matrix-grid-bg {
  background-image: 
    linear-gradient(rgba(59, 130, 246, 0.15) 1px, transparent 1px),
    linear-gradient(90deg, rgba(59, 130, 246, 0.15) 1px, transparent 1px);
}

@keyframes gridMove {
  0% { transform: translate(0, 0); }
  100% { transform: translate(50px, 50px); }
}

/* Partículas flotantes */
.particles {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.particle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: var(--primary);
  border-radius: 50%;
  animation: particleFloat 8s linear infinite;
}

@keyframes particleFloat {
  0% {
    transform: translateY(100vh) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-100px) rotate(360deg);
    opacity: 0;
  }
}

.floating-symbols {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.symbol {
  position: absolute;
  font-family: 'JetBrains Mono', monospace;
  font-size: 24px;
  color: rgba(100, 150, 250, 0.6);
  animation: float 6s ease-in-out infinite;
}

[data-theme="light"] .symbol {
  color: rgba(59, 130, 246, 0.5);
}

.symbol:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
.symbol:nth-child(2) { top: 80%; left: 85%; animation-delay: 1s; }
.symbol:nth-child(3) { top: 60%; left: 15%; animation-delay: 2s; }
.symbol:nth-child(4) { top: 30%; left: 90%; animation-delay: 3s; }
.symbol:nth-child(5) { top: 70%; left: 70%; animation-delay: 4s; }
.symbol:nth-child(6) { top: 40%; left: 5%; animation-delay: 5s; }

@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  50% { transform: translateY(-20px) rotate(180deg); }
}

/* Brackets animados */
.brackets {
  position: absolute;
  font-family: 'JetBrains Mono', monospace;
  font-size: 120px;
  color: rgba(100, 150, 250, 0.3);
  font-weight: 900;
  animation: pulse 4s ease-in-out infinite;
}

[data-theme="light"] .brackets {
  color: rgba(59, 130, 246, 0.2);
}

.left-bracket {
  left: 10%;
  top: 50%;
  transform: translateY(-50%);
}

.right-bracket {
  right: 10%;
  top: 50%;
  transform: translateY(-50%);
}

@keyframes pulse {
  0%, 100% { opacity: 0.3; transform: translateY(-50%) scale(1); }
  50% { opacity: 0.6; transform: translateY(-50%) scale(1.1); }
}

/* Títulos portada */
.cover-title {
  font-size: clamp(3rem, 6vw, 5rem);
  font-weight: 900;
  background: linear-gradient(135deg, #1e293b 0%, #2563eb 30%, #059669 70%, #d97706 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 20px;
  position: relative;
  z-index: 2;
  animation: titleGlow 3s ease-in-out infinite alternate;
}

[data-theme="dark"] .cover-title {
  background: linear-gradient(135deg, var(--ink) 0%, var(--primary) 30%, var(--secondary) 70%, var(--accent) 100%);
}

@keyframes titleGlow {
  from { filter: drop-shadow(0 0 20px rgba(37, 99, 235, 0.4)); }
  to { filter: drop-shadow(0 0 40px rgba(37, 99, 235, 0.7)) drop-shadow(0 0 60px rgba(5, 150, 105, 0.5)); }
}

.cover-subtitle {
  font-size: clamp(1.8rem, 4vw, 3rem);
  background: linear-gradient(135deg, #059669 0%, #2563eb 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 700;
  margin-bottom: 40px;
  position: relative;
  z-index: 2;
}

[data-theme="dark"] .cover-subtitle {
  background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
}

.learning-objectives {
  max-width: 800px;
  margin: 40px auto;
  text-align: center;
  position: relative;
  z-index: 2;
  background: rgba(42, 49, 66, 0.7);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  padding: 30px;
  border: 1px solid rgba(100, 150, 250, 0.3);
  box-shadow: 0 20px 40px rgba(0,0,0,0.2);
  animation: slideUp 1s ease-out;
}

[data-theme="light"] .learning-objectives {
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(59, 130, 246, 0.3);
}

@keyframes slideUp {
  from { 
    opacity: 0;
    transform: translateY(30px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

.learning-objectives h3 {
  color: var(--accent);
  margin-bottom: 20px;
  font-size: 1.5rem;
}

.learning-objectives p {
  font-size: 1.1rem;
  line-height: 1.8;
  color: var(--ink);
}

/* ======= BOTÓN CTA Y BOTONES INFO ======= */
.cta-button {
  margin-top: 50px;
  position: relative;
  z-index: 2;
}

.glow-button {
  background: linear-gradient(135deg, #f57c00 0%, #ff9800 100%);
  color: white;
  border: none;
  border-radius: 50px;
  padding: 18px 40px;
  font-size: 1.2rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(245, 124, 0, 0.3);
}

.glow-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  transition: left 0.5s;
}

.glow-button:hover::before {
  left: 100%;
}

.glow-button:hover {
  transform: translateY(-5px) scale(1.05);
  box-shadow: 0 20px 40px rgba(245, 124, 0, 0.5);
}

/* Botones info naranjas */
.info-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: linear-gradient(135deg, #f57c00 0%, #ff9800 100%);
  color: white;
  border: none;
  border-radius: 25px;
  padding: 10px 20px;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  margin: 10px 5px;
  box-shadow: 0 4px 12px rgba(245, 124, 0, 0.3);
}

.info-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(245, 124, 0, 0.5);
  background: linear-gradient(135deg, #ff9800 0%, #ffa726 100%);
}

.info-btn::before {
  content: '+';
  font-size: 1.2rem;
  font-weight: bold;
}

/* Caja de información expandible */
.info-box {
  display: none;
  background: linear-gradient(135deg, rgba(245, 124, 0, 0.1), rgba(255, 152, 0, 0.1));
  border-left: 4px solid #f57c00;
  padding: 20px;
  border-radius: 12px;
  margin: 15px 0;
  animation: slideDown 0.3s ease-out;
}

.info-box.active {
  display: block;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.info-box h4 {
  color: #f57c00;
  margin-bottom: 10px;
}

.info-box p {
  color: var(--ink);
  line-height: 1.7;
}

/* ======= TARJETAS DE SEMANAS ======= */
.week-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 30px;
  max-width: 1200px;
  margin: 40px auto;
  width: 100%;
}

.week-card {
  background: linear-gradient(145deg, var(--panel), var(--bg));
  border: 2px solid var(--primary);
  border-radius: 20px;
  padding: 30px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  animation: fadeInUp 0.6s ease-out;
}

.week-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 20px 40px rgba(0,0,0,0.3);
  border-color: var(--secondary);
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.week-number {
  font-size: 3rem;
  font-weight: 900;
  color: var(--primary);
  margin-bottom: 15px;
}

.week-title {
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 15px;
  color: var(--secondary);
}

.week-topics {
  font-size: 0.9rem;
  color: var(--muted);
  line-height: 1.8;
  text-align: left;
}

/* ======= CONTENIDO DE SEMANAS ======= */
.content-container {
  max-width: 1200px;
  width: 100%;
  background: linear-gradient(145deg, var(--panel), var(--bg));
  border-radius: 20px;
  padding: 40px;
  border: 1px solid rgba(100, 150, 250, 0.3);
  box-shadow: 0 20px 50px rgba(0,0,0,0.3);
  max-height: 80vh;
  overflow-y: auto;
}

.week-section {
  color: var(--ink);
}

.week-badge {
  display: inline-block;
  background: var(--grad-primary);
  color: white;
  padding: 8px 20px;
  border-radius: 20px;
  font-weight: 700;
  margin-bottom: 20px;
  font-size: 0.9rem;
}

.section-title {
  font-size: 2.5rem;
  font-weight: 900;
  color: var(--primary);
  text-align: center;
  margin-bottom: 20px;
}

/* Títulos */
h1, h2, h3, h4, h5, h6 {
  margin-bottom: 1rem;
  line-height: 1.3;
  color: var(--ink);
}

h2 { font-size: 2rem; font-weight: 700; color: var(--primary); margin-bottom: 1.5rem; }
h3 { font-size: 1.6rem; font-weight: 700; color: var(--secondary); margin-top: 2rem; margin-bottom: 1rem; }
h4 { font-size: 1.3rem; font-weight: 600; color: var(--accent); margin-bottom: 0.8rem; }

p {
  margin-bottom: 1rem;
  color: var(--muted);
  line-height: 1.7;
}

/* ======= TARJETAS Y CAJAS ======= */
.card {
  background: rgba(42, 49, 66, 0.5);
  border-radius: 16px;
  padding: 20px;
  margin: 20px 0;
  border: 1px solid rgba(100, 150, 250, 0.2);
  backdrop-filter: blur(10px);
}

[data-theme="light"] .card {
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(59, 130, 246, 0.2);
}

.definition-box {
  background: linear-gradient(135deg, rgba(100, 150, 250, 0.15) 0%, rgba(0, 212, 170, 0.15) 100%);
  border-left: 4px solid var(--primary);
  padding: 15px;
  border-radius: 8px;
  margin: 15px 0;
}

.example-box {
  background: rgba(0, 212, 170, 0.1);
  border-left: 4px solid var(--secondary);
  padding: 15px;
  border-radius: 8px;
  margin: 15px 0;
}

.citation {
  background: rgba(255, 214, 10, 0.1);
  border-left: 4px solid var(--accent);
  padding: 20px;
  border-radius: 8px;
  margin: 20px 0;
  font-style: italic;
  color: var(--muted);
}

/* ======= LAYOUTS ======= */
.two-col {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  margin: 20px 0;
}

.three-col {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin: 20px 0;
}

/* ======= CALCULADORA MATRICIAL ======= */
.calculator-container {
  background: var(--panel);
  border-radius: 20px;
  padding: 30px;
  margin: 30px 0;
  border: 2px solid var(--primary);
}

.calculator-matrix {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin: 15px 0;
}

.calculator-row {
  display: flex;
  gap: 10px;
  justify-content: center;
}

.calculator-input {
  width: 80px;
  padding: 10px;
  font-size: 1.2rem;
  text-align: center;
  border: 2px solid var(--primary);
  border-radius: 8px;
  background: var(--bg);
  color: var(--ink);
  font-family: 'JetBrains Mono', monospace;
}

.math-display {
  background: rgba(100, 150, 250, 0.1);
  padding: 20px;
  border-radius: 12px;
  margin: 20px 0;
  font-family: 'JetBrains Mono', monospace;
  text-align: center;
  font-size: 1.1rem;
  border: 2px solid rgba(100, 150, 250, 0.3);
}

/* ======= QUIZ INTERACTIVO ======= */
.quiz-container {
  background: linear-gradient(135deg, rgba(100, 150, 250, 0.15), rgba(0, 212, 170, 0.15));
  border-radius: 20px;
  padding: 30px;
  margin: 40px 0;
  border: 2px solid var(--accent);
}

.quiz-question {
  font-size: 1.2rem;
  font-weight: 600;
  margin-bottom: 15px;
  color: var(--ink);
}

.quiz-options {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 30px;
}

.quiz-option {
  background: var(--panel);
  padding: 15px 20px;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  border: 2px solid transparent;
  color: var(--ink);
}

.quiz-option:hover {
  border-color: var(--primary);
  transform: translateX(5px);
  background: rgba(37, 99, 235, 0.1);
}

[data-theme="light"] .quiz-option:hover {
  background: rgba(37, 99, 235, 0.08);
  border-color: #2563eb;
}

.quiz-option.correct {
  background: rgba(5, 150, 105, 0.2);
  border-color: var(--success);
  color: var(--ink);
}

.quiz-option.incorrect {
  background: rgba(220, 38, 38, 0.2);
  border-color: var(--danger);
  color: var(--ink);
}

/* ======= CANVAS PARA THREE.JS ======= */
.canvas-container {
  width: 100%;
  height: 400px;
  margin: 30px 0;
  border-radius: 16px;
  overflow: hidden;
  border: 2px solid var(--primary);
  background: var(--bg);
}

#threejs-canvas {
  width: 100%;
  height: 100%;
  display: block;
}

.canvas-controls {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 20px;
  flex-wrap: wrap;
}

/* ======= RESPONSIVE ======= */
@media (max-width: 768px) {
  .slide {
    padding: 40px 20px 140px 20px;
  }
  
  .sidebar {
    display: none;
  }
  
  .nav-controls {
    width: calc(100% - 40px);
    gap: 8px;
    padding: 12px 15px;
    bottom: 20px;
  }
  
  .nav-btn {
    min-width: 70px;
    padding: 10px 12px;
    font-size: 11px;
  }
  
  .nav-btn span {
    display: none;
  }
  
  .week-grid {
    grid-template-columns: 1fr;
  }
  
  .content-container {
    padding: 20px;
  }
  
  .progress-indicator {
    top: 100px;
    right: 10px;
    padding: 8px 12px;
    font-size: 0.8rem;
  }
}

/* ======= SCROLLBAR ======= */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: var(--bg);
}

::-webkit-scrollbar-thumb {
  background: var(--primary);
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--secondary);
}
</style>
</head>

<body data-theme="light">

<!-- Skip to main content link (WCAG 2.4.1) -->
<a href="#main-content" class="skip-link">Saltar al contenido principal</a>

<!-- ======= BANNER SUPERIOR SABES ======= -->
<header class="banner-sabes" role="banner">
  <img src="https://fnjimenez.github.io/curso_algebra_lineal/barrasuperior.png" alt="Universidad del SABES - Sistema Avanzado de Bachillerato y Educación Superior" />
</header>

<!-- ======= BARRA DE PROGRESO ======= -->
<div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" aria-label="Progreso de la presentación">
  <div class="progress" id="progress"></div>
</div>

<!-- ======= INDICADOR DE PROGRESO ======= -->
<div class="progress-indicator" id="progressIndicator">
  Progreso: <span id="userProgress">0%</span>
</div>

<!-- ======= BARRA LATERAL IZQUIERDA ======= -->
<div class="sidebar left-bar">
  <button id="btn-home" class="control-btn" title="Inicio">🏠</button>
  <button id="btn-prev" class="control-btn" title="Anterior">⬅️</button>
  <button id="btn-access" class="control-btn" title="Accesibilidad">♿</button>
  <button id="btn-help" class="control-btn" title="Ayuda">❓</button>
</div>

<!-- ======= BARRA LATERAL DERECHA ======= -->
<div class="sidebar right-bar">
  <button id="btn-theme" class="control-btn" title="Cambiar tema">🌙</button>
  <button id="btn-next" class="control-btn" title="Siguiente">➡️</button>
  <button id="btn-zoom-in" class="control-btn" title="Zoom +">➕</button>
  <button id="btn-zoom-out" class="control-btn" title="Zoom -">➖</button>
  <button id="btn-fullscreen" class="control-btn" title="Pantalla completa">⛶</button>
  <button id="btn-modal" class="control-btn" title="Abrir ventana modal">💬</button>
  <button id="btn-info" class="control-btn" title="Información">ℹ️</button>
  <button id="btn-exit" class="control-btn" title="Salir">❌</button>
</div>

<!-- ======= MODAL DE ACCESIBILIDAD WCAG ======= -->
<div id="accessibilityModal" class="modal" role="dialog" aria-labelledby="accessibility-title" aria-modal="true">
  <h3 id="accessibility-title">♿ Accesibilidad WCAG 2.2 AA</h3>
  
  <div style="background: linear-gradient(135deg, rgba(5, 150, 105, 0.1), rgba(37, 99, 235, 0.1)); padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #059669;">
    <strong style="color: #059669; font-size: 1.1rem;">✅ Certificación: Nivel AA Completo</strong>
    <p style="margin: 5px 0 0 0; font-size: 0.9rem;">Esta presentación cumple con TODOS los criterios WCAG 2.2 Nivel AA</p>
  </div>
  
  <h4 style="color: var(--secondary); margin-top: 20px;">📋 Criterios Implementados</h4>
  
  <details open style="margin: 15px 0; cursor: pointer;">
    <summary style="font-weight: bold; padding: 10px; background: rgba(37, 99, 235, 0.1); border-radius: 8px; margin-bottom: 10px;">
      1. Perceptible ✅
    </summary>
    <ul style="text-align: left; line-height: 1.8; margin-left: 20px;">
      <li>✅ <strong>1.4.3</strong> Contraste mínimo 4.5:1</li>
      <li>✅ <strong>1.4.4</strong> Texto redimensionable hasta 200%</li>
      <li>✅ <strong>1.4.5</strong> Imágenes de texto (no usadas)</li>
      <li>✅ <strong>1.4.10</strong> Reflow/Reflujo responsive</li>
      <li>✅ <strong>1.4.11</strong> Contraste no textual</li>
      <li>✅ <strong>1.4.12</strong> Espaciado de texto</li>
      <li>✅ <strong>1.4.13</strong> Contenido en hover/focus</li>
    </ul>
  </details>
  
  <details open style="margin: 15px 0; cursor: pointer;">
    <summary style="font-weight: bold; padding: 10px; background: rgba(37, 99, 235, 0.1); border-radius: 8px; margin-bottom: 10px;">
      2. Operable ✅
    </summary>
    <ul style="text-align: left; line-height: 1.8; margin-left: 20px;">
      <li>✅ <strong>2.1.1</strong> Teclado completo</li>
      <li>✅ <strong>2.1.2</strong> Sin trampa de teclado</li>
      <li>✅ <strong>2.1.4</strong> Atajos de teclado personalizables</li>
      <li>✅ <strong>2.4.1</strong> Saltar bloques (skip link)</li>
      <li>✅ <strong>2.4.3</strong> Orden de foco lógico</li>
      <li>✅ <strong>2.4.5</strong> Múltiples vías de navegación</li>
      <li>✅ <strong>2.4.6</strong> Encabezados y etiquetas</li>
      <li>✅ <strong>2.4.7</strong> Foco visible</li>
      <li>✅ <strong>2.4.11</strong> Apariencia del foco (WCAG 2.2)</li>
      <li>✅ <strong>2.5.8</strong> Tamaño objetivo mínimo</li>
    </ul>
  </details>
  
  <details open style="margin: 15px 0; cursor: pointer;">
    <summary style="font-weight: bold; padding: 10px; background: rgba(37, 99, 235, 0.1); border-radius: 8px; margin-bottom: 10px;">
      3. Comprensible ✅
    </summary>
    <ul style="text-align: left; line-height: 1.8; margin-left: 20px;">
      <li>✅ <strong>3.1.1</strong> Idioma de la página (lang="es")</li>
      <li>✅ <strong>3.1.2</strong> Idioma de las partes</li>
      <li>✅ <strong>3.2.3</strong> Navegación coherente</li>
      <li>✅ <strong>3.2.4</strong> Identificación coherente</li>
      <li>✅ <strong>3.3.1</strong> Identificación de errores</li>
      <li>✅ <strong>3.3.2</strong> Etiquetas o instrucciones</li>
    </ul>
  </details>
  
  <details open style="margin: 15px 0; cursor: pointer;">
    <summary style="font-weight: bold; padding: 10px; background: rgba(37, 99, 235, 0.1); border-radius: 8px; margin-bottom: 10px;">
      4. Robusto ✅
    </summary>
    <ul style="text-align: left; line-height: 1.8; margin-left: 20px;">
      <li>✅ <strong>4.1.2</strong> Nombre, función, valor (ARIA)</li>
      <li>✅ <strong>4.1.3</strong> Mensajes de estado</li>
    </ul>
  </details>
  
  <h4 style="color: var(--secondary); margin-top: 20px;">⌨️ Atajos de Teclado</h4>
  <ul style="text-align: left; line-height: 1.8;">
    <li><strong>Tab:</strong> Navegar entre elementos interactivos</li>
    <li><strong>Flechas ← →:</strong> Navegar entre diapositivas</li>
    <li><strong>Espacio/Enter:</strong> Siguiente diapositiva / Activar botón</li>
    <li><strong>Teclas 0-7:</strong> Ir a diapositiva específica</li>
    <li><strong>F:</strong> Pantalla completa</li>
    <li><strong>+/-:</strong> Zoom in/out</li>
    <li><strong>Home/End:</strong> Primera/Última diapositiva</li>
    <li><strong>Esc:</strong> Cerrar modales</li>
  </ul>
  
  <h4 style="color: var(--secondary); margin-top: 20px;">🛠️ Compatibilidad</h4>
  <p style="text-align: left;"><strong>Tecnologías Asistivas probadas:</strong></p>
  <ul style="text-align: left; line-height: 1.8;">
    <li>✅ <strong>NVDA</strong> (Windows) - Lector de pantalla gratuito</li>
    <li>✅ <strong>JAWS</strong> (Windows) - Lector de pantalla profesional</li>
    <li>✅ <strong>VoiceOver</strong> (macOS/iOS) - Integrado en Apple</li>
    <li>✅ <strong>TalkBack</strong> (Android) - Lector de Google</li>
    <li>✅ <strong>Narrator</strong> (Windows) - Integrado en Windows</li>
  </ul>
  
  <div style="background: rgba(245, 124, 0, 0.1); padding: 15px; border-radius: 8px; margin-top: 20px; border-left: 4px solid #f57c00;">
    <p style="margin: 0; font-size: 0.95rem;"><strong>💡 Consejo:</strong> Presiona <kbd style="background: var(--panel); padding: 2px 6px; border-radius: 4px; border: 1px solid var(--primary);">Tab</kbd> para navegar por los controles con el teclado.</p>
  </div>
  
  <button onclick="cerrarModalAccesibilidad()" style="margin-top: 20px;">Cerrar</button>
</div>

<!-- ======= MODAL SABES ======= -->
<div id="infoModal" class="modal" role="dialog" aria-labelledby="info-title" aria-modal="true">
  <h3 id="info-title">🎓 Información del Curso</h3>
  <p><strong>Álgebra Lineal - Unidad II: Sistemas de Ecuaciones Lineales</strong></p>
  <p>Este curso interactivo está organizado en 4 semanas de contenido principal más complementos educativos.</p>
  
  <h4>📚 Estructura del Curso:</h4>
  <ul style="text-align: left; line-height: 2;">
    <li><strong>Semana 1:</strong> Introducción a Matrices</li>
    <li><strong>Semana 2:</strong> Operaciones con Matrices</li>
    <li><strong>Semana 3:</strong> Determinantes y Transformaciones</li>
    <li><strong>Semana 4:</strong> Aplicaciones y Regla de Cramer</li>
    <li><strong>🎯 Complemento:</strong> Caso Práctico Industrial</li>
    <li><strong>📚 Complemento:</strong> Bibliografía y Recursos</li>
  </ul>
  
  <h4>✨ Características:</h4>
  <ul style="text-align: left; line-height: 1.8;">
    <li>✅ Autoevaluaciones interactivas en cada semana</li>
    <li>✅ Calculadora matricial en vivo</li>
    <li>✅ Visualizaciones 3D con Three.js</li>
    <li>✅ Fórmulas renderizadas con MathJax</li>
    <li>✅ Diseño responsive y accesible</li>
  </ul>
  
  <p><strong>Universidad del SABES - 2025</strong></p>
  <p style="font-size: 0.9rem; color: var(--muted);">Cumple con estándares WCAG 2.2 AA de accesibilidad.</p>
  <button onclick="cerrarModal()">Cerrar</button>
</div>

<!-- ======= CONTENEDOR DE SLIDES ======= -->
<div class="slides-container" id="main-content" role="main" aria-label="Contenido de la presentación">

  <!-- SLIDE 0: PORTADA -->
  <div class="slide active cover-slide" id="slide-0" role="region" aria-labelledby="slide-0-title">
    <!-- Grid animado de fondo -->
    <div class="matrix-grid-bg"></div>
    
    <!-- Partículas flotantes -->
    <div class="particles" id="particles"></div>
    
    <!-- Símbolos matemáticos flotantes -->
    <div class="floating-symbols">
      <div class="symbol">[</div>
      <div class="symbol">]</div>
      <div class="symbol">∑</div>
      <div class="symbol">∫</div>
      <div class="symbol">∂</div>
      <div class="symbol">∆</div>
    </div>
    
    <!-- Brackets de matriz -->
    <div class="brackets left-bracket">[</div>
    <div class="brackets right-bracket">]</div>
    
    <!-- Contenido principal -->
    <div style="position: relative; z-index: 2; width: 100%; max-width: 900px;">
      <h1 class="cover-title" id="slide-0-title">ÁLGEBRA LINEAL</h1>
      <h2 class="cover-subtitle">UNIDAD II: SISTEMAS DE ECUACIONES LINEALES</h2>
      
      <div class="learning-objectives">
        <h3>🎯 APRENDIZAJES ESPERADOS</h3>
        <p>
          Resolver problemas de aplicación en ingeniería con sistemas de ecuaciones lineales 
          e interpretar las soluciones y tomar decisiones con base en ellas, utilizando los 
          métodos de Gauss, Gauss-Jordán, matriz inversa y regla de Cramer.
        </p>
      </div>
      
      <div class="cta-button">
        <button class="glow-button" onclick="goToSlide(1)">
          <span>Comenzar Presentación</span> →
        </button>
      </div>
    </div>
  </div>

  <!-- SLIDE 1: ÍNDICE DE SEMANAS -->
  <div class="slide" id="slide-1" role="region" aria-labelledby="slide-1-title">
    <h2 class="section-title" id="slide-1-title">UNIDAD II: SISTEMAS DE ECUACIONES LINEALES</h2>
    <p style="text-align: center; color: var(--muted); margin-bottom: 40px; max-width: 800px;">
      Selecciona una semana o complemento para explorar los contenidos específicos
    </p>
    
    <div class="week-grid" role="navigation" aria-label="Navegación por semanas">
      <a class="week-card" onclick="goToSlide(2)" role="button" tabindex="0" aria-label="Ir a Semana 5: Definición y Clasificación" onkeypress="if(event.key==='Enter') goToSlide(2)">
        <div class="week-number">05</div>
        <div class="week-title">Semana 5: Fundamentos</div>
        <div class="week-topics">
          • Definición y notación matricial<br>
          • Clasificación de sistemas<br>
          • Sistemas homogéneos/no homogéneos<br>
          • Interpretación geométrica
        </div>
      </a>
      
      <a class="week-card" onclick="goToSlide(3)" role="button" tabindex="0" aria-label="Ir a Semana 6: Métodos de Solución" onkeypress="if(event.key==='Enter') goToSlide(3)">
        <div class="week-number">06</div>
        <div class="week-title">Semana 6: Métodos</div>
        <div class="week-topics">
          • Método de Gauss<br>
          • Método de Gauss-Jordán<br>
          • Matriz inversa<br>
          • Regla de Cramer
        </div>
      </a>
      
      <a class="week-card" onclick="goToSlide(4)">
        <div class="week-number">07</div>
        <div class="week-title">Semana 7: Aplicaciones</div>
        <div class="week-topics">
          • Problemas de ingeniería<br>
          • Circuitos eléctricos<br>
          • Mezclas y aleaciones<br>
          • Optimización de procesos
        </div>
      </a>
      
      <a class="week-card" onclick="goToSlide(5)">
        <div class="week-number">08</div>
        <div class="week-title">Semana 8: IA y ML</div>
        <div class="week-topics">
          • Álgebra lineal para IA<br>
          • Regresión lineal<br>
          • Redes neuronales<br>
          • Actividad 2 (15 pts - 3 nov)
        </div>
      </a>
      
      <a class="week-card" onclick="goToSlide(6)">
        <div class="week-number">🎯</div>
        <div class="week-title">Caso Práctico</div>
        <div class="week-topics">
          • Análisis de circuitos<br>
          • Método de mallas<br>
          • Solución paso a paso<br>
          • Análisis de resultados
        </div>
      </a>
      
      <a class="week-card" onclick="goToSlide(7)">
        <div class="week-number">📚</div>
        <div class="week-title">Bibliografía y Recursos</div>
        <div class="week-topics">
          • Textos fundamentales<br>
          • Recursos digitales<br>
          • Calculadoras de sistemas<br>
          • Guías de estudio
        </div>
      </a>
    </div>
  </div>

  <!-- SLIDE 2: SEMANA 5 - FUNDAMENTOS DE SISTEMAS DE ECUACIONES -->
  <div class="slide" id="slide-2">
    <div class="content-container">
      <div class="week-section">
        <div class="week-badge">Semana 5</div>
        <h2>2.1 Sistemas de Ecuaciones Lineales</h2>
        
        <h3>2.1.1 Definición y notación de un sistema de ecuaciones lineales</h3>
        
        <button class="info-btn" onclick="toggleInfo('info-sistema')">info ¿Qué es un sistema de ecuaciones?</button>
        <div id="info-sistema" class="info-box">
          <h4>💡 Concepto clave</h4>
          <p><strong>Un sistema de ecuaciones lineales</strong> es un conjunto de ecuaciones que deben cumplirse simultáneamente.</p>
          <p><strong>Ejemplo cotidiano:</strong> Si tienes 10 monedas entre pesos y dólares con un valor total de $50, tienes DOS ecuaciones con DOS incógnitas.</p>
          <p>👉 El objetivo es encontrar valores que satisfagan TODAS las ecuaciones al mismo tiempo.</p>
        </div>
        
        <div class="card">
          <div class="definition-box">
            <strong>Definición:</strong> Un sistema de $m$ ecuaciones lineales con $n$ incógnitas es un conjunto de ecuaciones de la forma:
            $$\begin{cases}
            a_{11}x_1 + a_{12}x_2 + \cdots + a_{1n}x_n = b_1 \\
            a_{21}x_1 + a_{22}x_2 + \cdots + a_{2n}x_n = b_2 \\
            \vdots \\
            a_{m1}x_1 + a_{m2}x_2 + \cdots + a_{mn}x_n = b_m
            \end{cases}$$
            donde $a_{ij}$ son los coeficientes, $x_j$ son las incógnitas y $b_i$ son los términos independientes.
          </div>
          
          <div class="example-box">
            <strong>Ejemplo 1:</strong> Sistema de $2 \times 2$ (2 ecuaciones, 2 incógnitas)<br>
            $$\begin{cases}
            2x + 3y = 8 \\
            -x + 4y = 3
            \end{cases}$$
            <strong>Solución:</strong> $x = 1$, $y = 2$ (verifica ambas ecuaciones)
          </div>
          
          <div class="example-box">
            <strong>Ejemplo 2:</strong> Sistema de $3 \times 3$ (3 ecuaciones, 3 incógnitas)<br>
            $$\begin{cases}
            x + 2y - z = 4 \\
            2x - y + 3z = 9 \\
            -x + 3y + z = 5
            \end{cases}$$
          </div>
        </div>
        
        <h3>2.1.2 Notación matricial: $AX = B$</h3>
        
        <button class="info-btn" onclick="toggleInfo('info-matricial')">info ¿Por qué usar matrices?</button>
        <div id="info-matricial" class="info-box">
          <h4>💡 Ventaja de la notación matricial</h4>
          <p><strong>Compacta:</strong> Representa todo el sistema en una sola ecuación matricial.</p>
          <p><strong>Computacional:</strong> Facilita la programación y uso de software.</p>
          <p><strong>Teórica:</strong> Permite aplicar teoría de álgebra lineal para analizar soluciones.</p>
        </div>
        
        <div class="card">
          <div class="definition-box">
            <strong>Forma matricial:</strong> Todo sistema se puede escribir como:
            $$AX = B$$
            donde:
            <ul style="text-align: left; margin-top: 10px;">
              <li>$A$ = Matriz de coeficientes (orden $m \times n$)</li>
              <li>$X$ = Vector columna de incógnitas (orden $n \times 1$)</li>
              <li>$B$ = Vector columna de términos independientes (orden $m \times 1$)</li>
            </ul>
          </div>
          
          <div class="example-box">
            <strong>Ejemplo:</strong> El sistema 
            $\begin{cases}2x + 3y = 8 \\ -x + 4y = 3\end{cases}$ se escribe como:<br><br>
            
            $$\underbrace{\begin{pmatrix}2 & 3 \\ -1 & 4\end{pmatrix}}_A 
            \underbrace{\begin{pmatrix}x \\ y\end{pmatrix}}_X = 
            \underbrace{\begin{pmatrix}8 \\ 3\end{pmatrix}}_B$$
          </div>
        </div>
        
        <h3>2.1.3 Clasificación de sistemas según sus soluciones</h3>
        
        <div class="three-col">
          <div class="card">
            <h4>✅ Compatible Determinado</h4>
            <p><strong>Una única solución</strong></p>
            <div class="example-box">
              $$\begin{cases}x + y = 3 \\ x - y = 1\end{cases}$$
              <strong>Solución:</strong> $(2, 1)$
            </div>
            <p style="font-size: 0.9rem; margin-top: 10px;">Las rectas se intersectan en un punto.</p>
          </div>
          
          <div class="card">
            <h4>♾️ Compatible Indeterminado</h4>
            <p><strong>Infinitas soluciones</strong></p>
            <div class="example-box">
              $$\begin{cases}2x + 4y = 6 \\ x + 2y = 3\end{cases}$$
              <strong>Solución:</strong> $(t, \frac{3-t}{2})$, $t \in \mathbb{R}$
            </div>
            <p style="font-size: 0.9rem; margin-top: 10px;">Las ecuaciones representan la misma recta.</p>
          </div>
          
          <div class="card">
            <h4>❌ Incompatible</h4>
            <p><strong>Sin solución</strong></p>
            <div class="example-box">
              $$\begin{cases}x + y = 2 \\ x + y = 5\end{cases}$$
              <strong>Contradicción:</strong> $2 \neq 5$
            </div>
            <p style="font-size: 0.9rem; margin-top: 10px;">Rectas paralelas que nunca se intersectan.</p>
          </div>
        </div>
        
        <h3>2.1.4 Interpretación geométrica</h3>
        
        <div class="two-col">
          <div class="card">
            <h4>📊 En 2 dimensiones (2 ecuaciones, 2 incógnitas)</h4>
            <p>Cada ecuación representa una <strong>recta</strong> en el plano.</p>
            <ul style="text-align: left; font-size: 0.95rem;">
              <li><strong>Compatible determinado:</strong> Las rectas se cortan en un punto</li>
              <li><strong>Compatible indeterminado:</strong> Las rectas son coincidentes</li>
              <li><strong>Incompatible:</strong> Las rectas son paralelas</li>
            </ul>
          </div>
          
          <div class="card">
            <h4>📐 En 3 dimensiones (3 ecuaciones, 3 incógnitas)</h4>
            <p>Cada ecuación representa un <strong>plano</strong> en el espacio.</p>
            <ul style="text-align: left; font-size: 0.95rem;">
              <li><strong>Compatible determinado:</strong> Los 3 planos se cortan en un punto</li>
              <li><strong>Compatible indeterminado:</strong> Los planos se cortan en una recta o son coincidentes</li>
              <li><strong>Incompatible:</strong> No hay punto común a los 3 planos</li>
            </ul>
          </div>
        </div>
        
        <!-- Quiz interactivo -->
        <div class="quiz-container">
          <h3>🧠 Autoevaluación - Semana 5</h3>
          <div class="quiz-question">
            1. ¿Cuál es la forma matricial de un sistema de ecuaciones?
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">$AX = B$</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">$A + X = B$</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">$AX + B = 0$</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">$X = AB$</div>
          </div>
          
          <div class="quiz-question">
            2. Un sistema con infinitas soluciones se clasifica como:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Compatible determinado</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Compatible indeterminado</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Incompatible</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Homogéneo</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- SLIDE 3: SEMANA 2 - OPERACIONES CON MATRICES -->
  <div class="slide" id="slide-3">
    <div class="content-container">
      <div class="week-section">
        <div class="week-badge">Semana 6</div>
        <h2>2.2 Métodos de Solución de Sistemas</h2>
        
        <div class="citation">
          "Los métodos sistemáticos para resolver ecuaciones lineales son herramientas fundamentales en ciencia e ingeniería. Desde el diseño de estructuras hasta el análisis de circuitos eléctricos, estos métodos proporcionan soluciones precisas a problemas complejos del mundo real." 
          <strong>— Grossman, S. I. (2012)</strong>
        </div>

        <h3>2.2.1 Método de Eliminación Gaussiana</h3>
        
        <button class="info-btn" onclick="toggleInfo('info-gauss')">info ¿Qué es el Método de Gauss?</button>
        <div id="info-gauss" class="info-box">
          <h4>💡 Idea central del método</h4>
          <p><strong>Objetivo:</strong> Transformar el sistema en uno equivalente más fácil de resolver (forma triangular superior).</p>
          <p><strong>Proceso:</strong> Usar operaciones elementales para eliminar variables progresivamente.</p>
          <p><strong>Resultado:</strong> Sistema triangular que se resuelve por sustitución hacia atrás.</p>
          <p>👉 Es el método más usado en computadoras por su eficiencia.</p>
        </div>
        
        <div class="card">
          <div class="definition-box">
            <strong>Operaciones elementales permitidas:</strong>
            <ol style="text-align: left; line-height: 2;">
              <li>Multiplicar una ecuación por una constante no nula</li>
              <li>Intercambiar dos ecuaciones de posición</li>
              <li>Sumar a una ecuación un múltiplo de otra</li>
            </ol>
            <p style="margin-top: 10px;"><strong>Clave:</strong> Estas operaciones NO cambian el conjunto solución del sistema.</p>
          </div>
          
          <div class="example-box">
            <strong>Ejemplo paso a paso:</strong><br>
            Resolver: $\begin{cases}x + 2y + z = 9 \\ 2x - y + 3z = 8 \\ 3x + y - z = 3\end{cases}$<br><br>
            
            <strong>Paso 1:</strong> Matriz aumentada inicial
            $$\left[\begin{array}{ccc|c}
            1 & 2 & 1 & 9 \\
            2 & -1 & 3 & 8 \\
            3 & 1 & -1 & 3
            \end{array}\right]$$
            
            <strong>Paso 2:</strong> $F_2 - 2F_1 \to F_2$ y $F_3 - 3F_1 \to F_3$
            $$\left[\begin{array}{ccc|c}
            1 & 2 & 1 & 9 \\
            0 & -5 & 1 & -10 \\
            0 & -5 & -4 & -24
            \end{array}\right]$$
            
            <strong>Paso 3:</strong> $F_3 - F_2 \to F_3$
            $$\left[\begin{array}{ccc|c}
            1 & 2 & 1 & 9 \\
            0 & -5 & 1 & -10 \\
            0 & 0 & -5 & -14
            \end{array}\right]$$
            
            <strong>Solución:</strong> $z = \frac{14}{5}$, $y = \frac{24}{25}$, $x = \frac{153}{25}$
          </div>
        </div>

        <h3>2.2.2 Método de Gauss-Jordán</h3>
        
        <button class="info-btn" onclick="toggleInfo('info-gauss-jordan')">info Diferencia con Gauss simple</button>
        <div id="info-gauss-jordan" class="info-box">
          <h4>💡 ¿Qué cambia?</h4>
          <p><strong>Gauss:</strong> Forma triangular superior + sustitución hacia atrás</p>
          <p><strong>Gauss-Jordán:</strong> Forma escalonada reducida (diagonal) + lectura directa</p>
          <p><strong>Ventaja:</strong> La solución se lee directamente, sin sustitución.</p>
          <p><strong>Desventaja:</strong> Requiere más operaciones que Gauss simple.</p>
        </div>
        
        <div class="card">
          <div class="definition-box">
            <strong>Objetivo:</strong> Llevar la matriz aumentada a la forma escalonada reducida por filas (RREF):<br>
            $$\left[\begin{array}{ccc|c}
            1 & 0 & 0 & d_1 \\
            0 & 1 & 0 & d_2 \\
            0 & 0 & 1 & d_3
            \end{array}\right]$$
            donde se lee directamente: $x = d_1$, $y = d_2$, $z = d_3$
          </div>
          
          <div class="example-box">
            <strong>Ejemplo:</strong><br>
            Continuando del ejemplo anterior, desde:
            $$\left[\begin{array}{ccc|c}
            1 & 2 & 1 & 9 \\
            0 & -5 & 1 & -10 \\
            0 & 0 & -5 & -14
            \end{array}\right]$$
            
            Aplicar más operaciones hasta obtener:
            $$\left[\begin{array}{ccc|c}
            1 & 0 & 0 & \frac{153}{25} \\
            0 & 1 & 0 & \frac{24}{25} \\
            0 & 0 & 1 & \frac{14}{5}
            \end{array}\right]$$
            
            <strong>Solución directa:</strong> $x = \frac{153}{25}$, $y = \frac{24}{25}$, $z = \frac{14}{5}$
          </div>
        </div>

        <h3>2.2.3 Regla de Cramer</h3>
        
        <button class="info-btn" onclick="toggleInfo('info-cramer')">info ¿Cuándo usar Cramer?</button>
        <div id="info-cramer" class="info-box">
          <h4>💡 Aplicabilidad</h4>
          <p><strong>✅ Úsalo cuando:</strong></p>
          <ul style="text-align: left;">
            <li>El sistema es cuadrado (n ecuaciones, n incógnitas)</li>
            <li>El determinante de A es diferente de cero</li>
            <li>Necesitas una fórmula explícita para cada variable</li>
          </ul>
          <p><strong>❌ No lo uses:</strong> Para sistemas grandes (>4 variables) porque calcular determinantes es costoso.</p>
        </div>
        
        <div class="card">
          <div class="definition-box">
            <strong>Regla de Cramer:</strong> Para el sistema $AX = B$, si $\det(A) \neq 0$, entonces:
            $$x_i = \frac{\det(A_i)}{\det(A)}$$
            donde $A_i$ es la matriz $A$ con la columna $i$ reemplazada por $B$.
          </div>
          
          <div class="example-box">
            <strong>Ejemplo sistema 2×2:</strong><br>
            $$\begin{cases}2x + 3y = 13 \\ x - 2y = -4\end{cases}$$
            
            $$A = \begin{pmatrix}2 & 3 \\ 1 & -2\end{pmatrix}, \quad B = \begin{pmatrix}13 \\ -4\end{pmatrix}$$
            
            $$\det(A) = 2(-2) - 3(1) = -7$$
            
            $$x = \frac{\det\begin{pmatrix}13 & 3 \\ -4 & -2\end{pmatrix}}{-7} = \frac{-14}{-7} = 2$$
            
            $$y = \frac{\det\begin{pmatrix}2 & 13 \\ 1 & -4\end{pmatrix}}{-7} = \frac{-21}{-7} = 3$$
          </div>
        </div>

        <h3>2.2.4 Método de la Matriz Inversa</h3>
        
        <div class="two-col">
          <div class="card">
            <h4>📐 Concepto</h4>
            <p>Si $A$ es invertible, entonces:</p>
            $$AX = B \implies X = A^{-1}B$$
            <p style="margin-top: 10px;"><strong>Condición:</strong> $\det(A) \neq 0$</p>
          </div>
          
          <div class="card">
            <h4>🧮 Para 2×2</h4>
            <p>Si $A = \begin{pmatrix}a & b \\ c & d\end{pmatrix}$:</p>
            $$A^{-1} = \frac{1}{\det(A)}\begin{pmatrix}d & -b \\ -c & a\end{pmatrix}$$
          </div>
        </div>

        <!-- Quiz interactivo Semana 6 -->
        <div class="quiz-container">
          <h3>🧠 Autoevaluación - Semana 6</h3>
          
          <div class="quiz-question">
            1. ¿Cuál operación NO es elemental por filas?
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Multiplicar una fila por 5</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Multiplicar dos filas entre sí</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Intercambiar dos filas</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Sumar a una fila el doble de otra</div>
          </div>
          
          <div class="quiz-question">
            2. La Regla de Cramer requiere que:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">El sistema tenga más ecuaciones que incógnitas</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">El determinante de A sea diferente de cero</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Todas las incógnitas sean positivas</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">El sistema sea homogéneo</div>
          </div>
          
          <div class="quiz-question">
            3. ¿Cuál método lleva la matriz a forma diagonal?
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Eliminación gaussiana</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Gauss-Jordán</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Regla de Cramer</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Matriz inversa</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- SLIDE 4: SEMANA 7 - APLICACIONES -->
  <div class="slide" id="slide-4">
    <div class="content-container">
      <div class="week-section">
        <div class="week-badge">Semana 7</div>
        <h2>2.3 Aplicaciones de Sistemas de Ecuaciones</h2>
        
        <div class="citation">
          "Los sistemas de ecuaciones lineales son herramientas esenciales en ingeniería, ciencias y economía. Desde el análisis de circuitos eléctricos hasta la optimización de recursos, estos sistemas modelan problemas reales con precisión matemática." 
          <strong>— Lay, D. C. (2016)</strong>
        </div>
        
        <h3>2.3.1 Análisis de Circuitos Eléctricos</h3>
        
        <button class="info-btn" onclick="toggleInfo('info-kirchhoff')">info Leyes de Kirchhoff</button>
        <div id="info-kirchhoff" class="info-box">
          <h4>💡 Dos leyes fundamentales</h4>
          <p><strong>Ley de Corrientes (LCK):</strong> La suma de corrientes que entran a un nodo es igual a la suma de las que salen.</p>
          <p>$$\sum I_{entrada} = \sum I_{salida}$$</p>
          <p><strong>Ley de Voltajes (LVK):</strong> La suma algebraica de voltajes en un lazo cerrado es cero.</p>
          <p>$$\sum V_{lazo} = 0$$</p>
          <p>👉 Estas leyes generan sistemas de ecuaciones lineales que podemos resolver.</p>
        </div>
        
        <div class="card">
          <div class="example-box">
            <strong>Problema tipo:</strong> Análisis de circuito con 3 mallas<br><br>
            
            <strong>Dado:</strong> Circuito con resistencias $R_1 = 5\Omega$, $R_2 = 10\Omega$, $R_3 = 8\Omega$ y fuentes $V_1 = 12V$, $V_2 = 6V$
            
            <p style="margin-top: 15px;"><strong>Aplicando LVK a cada malla:</strong></p>
            $$\begin{cases}
            5I_1 - 5I_2 = 12 \\
            -5I_1 + 15I_2 - 10I_3 = 0 \\
            -10I_2 + 18I_3 = -6
            \end{cases}$$
            
            <p style="margin-top: 15px;"><strong>Solución por Gauss:</strong></p>
            Matriz aumentada:
            $$\left[\begin{array}{ccc|c}
            5 & -5 & 0 & 12 \\
            -5 & 15 & -10 & 0 \\
            0 & -10 & 18 & -6
            \end{array}\right]$$
            
            <p style="margin-top: 10px;"><strong>Resultado:</strong> $I_1 = 3.2A$, $I_2 = 1.0A$, $I_3 = 0.22A$</p>
          </div>
        </div>

        <h3>2.3.2 Problemas de Mezclas</h3>
        
        <div class="card">
          <div class="definition-box">
            <strong>Tipo de problema:</strong> Determinar cantidades de sustancias con diferentes concentraciones para obtener una mezcla deseada.
          </div>
          
          <div class="example-box">
            <strong>Ejemplo:</strong> Aleaciones metálicas<br><br>
            
            Una empresa necesita 100 kg de una aleación con 60% de cobre. Tiene disponibles:
            <ul style="text-align: left; margin: 10px 0;">
              <li>Aleación A: 80% cobre</li>
              <li>Aleación B: 50% cobre</li>
              <li>Aleación C: 30% cobre</li>
            </ul>
            
            <strong>Variables:</strong> $x$ = kg de A, $y$ = kg de B, $z$ = kg de C
            
            <p style="margin-top: 15px;"><strong>Sistema:</strong></p>
            $$\begin{cases}
            x + y + z = 100 \quad \text{(masa total)} \\
            0.8x + 0.5y + 0.3z = 60 \quad \text{(cobre total)} \\
            x = 2y \quad \text{(restricción adicional)}
            \end{cases}$$
            
            <p style="margin-top: 10px;"><strong>Solución:</strong> $x = 40$ kg, $y = 20$ kg, $z = 40$ kg</p>
          </div>
        </div>

        <h3>2.3.3 Balanceo de Ecuaciones Químicas</h3>
        
        <button class="info-btn" onclick="toggleInfo('info-quimica')">info ¿Por qué ecuaciones lineales?</button>
        <div id="info-quimica" class="info-box">
          <h4>💡 Ley de conservación de la masa</h4>
          <p><strong>Principio:</strong> En una reacción química, la cantidad de cada elemento debe ser igual en reactivos y productos.</p>
          <p><strong>Matemáticamente:</strong> Cada elemento genera una ecuación lineal.</p>
          <p>👉 Los coeficientes de balanceo son la solución del sistema.</p>
        </div>
        
        <div class="card">
          <div class="example-box">
            <strong>Ejemplo:</strong> Balancear la reacción de combustión del propano<br><br>
            
            $$C_3H_8 + O_2 \to CO_2 + H_2O$$
            
            <p style="margin-top: 15px;"><strong>Coeficientes incógnita:</strong></p>
            $$aC_3H_8 + bO_2 \to cCO_2 + dH_2O$$
            
            <p style="margin-top: 15px;"><strong>Balance por elemento:</strong></p>
            $$\begin{cases}
            C: & 3a = c \\
            H: & 8a = 2d \\
            O: & 2b = 2c + d
            \end{cases}$$
            
            <p style="margin-top: 10px;">Tomando $a = 1$ (normalización):</p>
            $$\begin{cases}
            c = 3 \\
            d = 4 \\
            2b = 6 + 4 \implies b = 5
            \end{cases}$$
            
            <p style="margin-top: 15px;"><strong>Ecuación balanceada:</strong></p>
            $$C_3H_8 + 5O_2 \to 3CO_2 + 4H_2O$$
          </div>
        </div>

        <h3>2.3.4 Flujo de Tráfico</h3>
        
        <div class="two-col">
          <div class="card">
            <h4>📊 Problema tipo</h4>
            <p>En una intersección, el flujo de entrada debe igualar el flujo de salida en cada nodo.</p>
            <p style="margin-top: 10px;"><strong>Principio:</strong> Conservación del flujo</p>
            $$\sum \text{entradas} = \sum \text{salidas}$$
          </div>
          
          <div class="card">
            <h4>🚗 Aplicación</h4>
            <ul style="text-align: left; font-size: 0.95rem;">
              <li>Optimización de semáforos</li>
              <li>Diseño de rutas de evacuación</li>
              <li>Análisis de congestión vial</li>
              <li>Planificación urbana</li>
            </ul>
          </div>
        </div>

        <!-- Quiz interactivo Semana 7 -->
        <div class="quiz-container">
          <h3>🧠 Autoevaluación - Semana 7</h3>
          
          <div class="quiz-question">
            1. La Ley de Corrientes de Kirchhoff establece que:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">El voltaje en un lazo es cero</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">La suma de corrientes en un nodo es cero</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">La resistencia es proporcional al voltaje</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">La potencia se conserva</div>
          </div>
          
          <div class="quiz-question">
            2. En problemas de mezclas, el sistema de ecuaciones representa:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Las reacciones químicas</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Balance de masas y concentraciones</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Las temperaturas de cada componente</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Los costos de producción</div>
          </div>
          
          <div class="quiz-question">
            3. Para balancear una ecuación química con sistemas lineales:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Se usan determinantes únicamente</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Cada elemento genera una ecuación</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Se necesita calcular la matriz inversa</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Solo funciona para reacciones simples</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- SLIDE 5: SEMANA 8 - IA Y MACHINE LEARNING -->
  <div class="slide" id="slide-5">
    <div class="content-container">
      <div class="week-section">
        <div class="week-badge">Semana 8</div>
        <h2>2.4 Álgebra Lineal en IA y Machine Learning</h2>
        
        <div class="citation">
          "El álgebra lineal es el lenguaje matemático fundamental del machine learning. Desde la regresión lineal hasta las redes neuronales profundas, los sistemas de ecuaciones lineales son la base computacional de la inteligencia artificial moderna." 
          <strong>— Goodfellow, I. et al. (2016)</strong>
        </div>
        
        <h3>2.4.1 Regresión Lineal Múltiple</h3>
        
        <button class="info-btn" onclick="toggleInfo('info-regresion')">info ¿Qué es regresión lineal?</button>
        <div id="info-regresion" class="info-box">
          <h4>💡 Concepto clave</h4>
          <p><strong>Objetivo:</strong> Predecir una variable dependiente $y$ a partir de múltiples variables independientes $x_1, x_2, \ldots, x_n$</p>
          <p><strong>Modelo:</strong> $y = \beta_0 + \beta_1x_1 + \beta_2x_2 + \cdots + \beta_nx_n$</p>
          <p><strong>Problema:</strong> Encontrar los coeficientes $\beta_i$ que mejor ajusten los datos.</p>
          <p>👉 Esto se resuelve con sistemas de ecuaciones normales.</p>
        </div>
        
        <div class="card">
          <div class="definition-box">
            <strong>Ecuaciones Normales:</strong><br>
            Para minimizar el error cuadrático, los coeficientes $\beta$ satisfacen:
            $$(X^TX)\beta = X^Ty$$
            donde $X$ es la matriz de diseño y $y$ es el vector de observaciones.
          </div>
          
          <div class="example-box">
            <strong>Ejemplo:</strong> Predecir precio de casa basado en tamaño y habitaciones<br><br>
            
            <strong>Datos de entrenamiento:</strong>
            <table style="width: 100%; border-collapse: collapse; font-size: 0.9rem;">
              <tr>
                <th style="border: 1px solid var(--primary); padding: 8px;">m² (x₁)</th>
                <th style="border: 1px solid var(--primary); padding: 8px;">Habitaciones (x₂)</th>
                <th style="border: 1px solid var(--primary); padding: 8px;">Precio (y)</th>
              </tr>
              <tr>
                <td style="border: 1px solid var(--primary); padding: 8px; text-align: center;">50</td>
                <td style="border: 1px solid var(--primary); padding: 8px; text-align: center;">2</td>
                <td style="border: 1px solid var(--primary); padding: 8px; text-align: center;">$150k</td>
              </tr>
              <tr>
                <td style="border: 1px solid var(--primary); padding: 8px; text-align: center;">75</td>
                <td style="border: 1px solid var(--primary); padding: 8px; text-align: center;">3</td>
                <td style="border: 1px solid var(--primary); padding: 8px; text-align: center;">$200k</td>
              </tr>
              <tr>
                <td style="border: 1px solid var(--primary); padding: 8px; text-align: center;">100</td>
                <td style="border: 1px solid var(--primary); padding: 8px; text-align: center;">4</td>
                <td style="border: 1px solid var(--primary); padding: 8px; text-align: center;">$250k</td>
              </tr>
            </table>
            
            <p style="margin-top: 15px;"><strong>Modelo:</strong> $\text{Precio} = \beta_0 + \beta_1(\text{m}^2) + \beta_2(\text{Habitaciones})$</p>
            
            <p><strong>Sistema a resolver:</strong> $(X^TX)\beta = X^Ty$ para encontrar $\beta_0, \beta_1, \beta_2$</p>
          </div>
        </div>

        <h3>2.4.2 Método de Mínimos Cuadrados</h3>
        
        <div class="card">
          <div class="definition-box">
            <strong>Principio:</strong> Minimizar la suma de los cuadrados de los errores
            $$\text{Error} = \sum_{i=1}^n (y_i - \hat{y}_i)^2$$
            donde $\hat{y}_i$ es la predicción del modelo.
          </div>
          
          <div class="example-box">
            <strong>Solución matricial:</strong><br>
            El vector de coeficientes óptimo es:
            $$\beta = (X^TX)^{-1}X^Ty$$
            
            <p style="margin-top: 10px;"><strong>Nota:</strong> Esto requiere:</p>
            <ul style="text-align: left; font-size: 0.95rem;">
              <li>Calcular $X^TX$ (producto matricial)</li>
              <li>Invertir la matriz $X^TX$ (debe ser invertible)</li>
              <li>Multiplicar por $X^Ty$</li>
            </ul>
          </div>
        </div>

        <h3>2.4.3 Redes Neuronales: Fundamentos</h3>
        
        <button class="info-btn" onclick="toggleInfo('info-neural')">info ¿Por qué sistemas lineales?</button>
        <div id="info-neural" class="info-box">
          <h4>💡 Álgebra lineal en redes neuronales</h4>
          <p><strong>Cada capa de una red neuronal realiza:</strong></p>
          <ol style="text-align: left; line-height: 2;">
            <li>Multiplicación matriz-vector: $z = Wx + b$</li>
            <li>Función de activación no lineal: $a = \sigma(z)$</li>
          </ol>
          <p><strong>Entrenamiento:</strong> Ajustar $W$ y $b$ resolviendo sistemas de ecuaciones derivados del gradiente.</p>
          <p>👉 Una red neuronal es una composición de transformaciones lineales y no lineales.</p>
        </div>
        
        <div class="two-col">
          <div class="card">
            <h4>🧠 Perceptrón Simple</h4>
            <p>La unidad básica de una red neuronal:</p>
            $$y = \sigma(w_1x_1 + w_2x_2 + \cdots + w_nx_n + b)$$
            <p style="margin-top: 10px; font-size: 0.9rem;">Donde $\sigma$ es la función de activación (ej: sigmoid, ReLU)</p>
          </div>
          
          <div class="card">
            <h4>📊 Propagación hacia adelante</h4>
            <p>En forma matricial:</p>
            $$\mathbf{a}^{(l)} = \sigma(W^{(l)}\mathbf{a}^{(l-1)} + \mathbf{b}^{(l)})$$
            <p style="margin-top: 10px; font-size: 0.9rem;">Cada capa transforma los datos usando multiplicación matricial</p>
          </div>
        </div>

        <h3>2.4.4 Aplicaciones en IA</h3>
        
        <div class="three-col">
          <div class="card">
            <h4>📸 Visión por Computadora</h4>
            <p style="font-size: 0.9rem;">Clasificación de imágenes usando matrices de píxeles y convoluciones</p>
          </div>
          
          <div class="card">
            <h4>📝 Procesamiento de Lenguaje</h4>
            <p style="font-size: 0.9rem;">Embeddings de palabras y transformers basados en operaciones matriciales</p>
          </div>
          
          <div class="card">
            <h4>🎮 Aprendizaje por Refuerzo</h4>
            <p style="font-size: 0.9rem;">Sistemas de ecuaciones de Bellman para políticas óptimas</p>
          </div>
        </div>

        <div style="background: linear-gradient(135deg, rgba(255, 214, 10, 0.1), rgba(0, 212, 170, 0.1)); padding: 20px; border-radius: 12px; border-left: 4px solid var(--accent); margin: 30px 0;">
          <h3 style="color: var(--accent); margin-bottom: 15px;">🎯 Actividad 2 - Machine Learning (15 puntos)</h3>
          <p><strong>Fecha límite:</strong> 3 de noviembre de 2025</p>
          <p style="margin-top: 10px;"><strong>Proyecto:</strong> Implementar regresión lineal múltiple para predecir un dataset real.</p>
          <p><strong>Entregables:</strong></p>
          <ul style="text-align: left; line-height: 1.8;">
            <li>Código en Python/MATLAB resolviendo ecuaciones normales</li>
            <li>Análisis del error cuadrático medio</li>
            <li>Visualización de predicciones vs datos reales</li>
            <li>Reporte técnico (máx. 5 páginas)</li>
          </ul>
        </div>

        <!-- Quiz interactivo Semana 8 -->
        <div class="quiz-container">
          <h3>🧠 Autoevaluación - Semana 8</h3>
          
          <div class="quiz-question">
            1. En regresión lineal múltiple, las ecuaciones normales son:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">$X\beta = y$</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">$(X^TX)\beta = X^Ty$</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">$X^T\beta = y$</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">$(XX^T)\beta = y$</div>
          </div>
          
          <div class="quiz-question">
            2. El método de mínimos cuadrados busca:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Maximizar la suma de errores</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Minimizar la suma de errores cuadrados</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Igualar todos los errores a cero</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Calcular el promedio de errores</div>
          </div>
          
          <div class="quiz-question">
            3. En una red neuronal, cada capa realiza:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Solo una operación no lineal</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Multiplicación matricial seguida de activación</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Solo suma de vectores</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Únicamente cálculo de determinantes</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- SLIDE 6: CASO PRÁCTICO -->
  <div class="slide" id="slide-6">
    <div class="content-container">
      <div class="week-section">
        <div class="week-badge">Caso Práctico</div>
        <h2>🎯 Análisis de Circuito Eléctrico con 3 Mallas</h2>
        
        <div class="citation">
          <strong>Problema Real:</strong> Determinar las corrientes en cada rama de un circuito eléctrico complejo utilizando las Leyes de Kirchhoff y sistemas de ecuaciones lineales.
        </div>

        <h3>📋 Descripción del Circuito</h3>
        
        <button class="info-btn" onclick="toggleInfo('info-circuito')">info Componentes del circuito</button>
        <div id="info-circuito" class="info-box">
          <h4>💡 Elementos del circuito</h4>
          <p><strong>Resistencias:</strong></p>
          <ul style="text-align: left;">
            <li>$R_1 = 6\Omega$ (malla 1)</li>
            <li>$R_2 = 4\Omega$ (entre mallas 1 y 2)</li>
            <li>$R_3 = 8\Omega$ (malla 2)</li>
            <li>$R_4 = 3\Omega$ (entre mallas 2 y 3)</li>
            <li>$R_5 = 5\Omega$ (malla 3)</li>
          </ul>
          <p><strong>Fuentes de voltaje:</strong></p>
          <ul style="text-align: left;">
            <li>$V_1 = 24V$ (malla 1)</li>
            <li>$V_2 = 12V$ (malla 3)</li>
          </ul>
          <p>🎯 <strong>Objetivo:</strong> Encontrar las corrientes de malla $I_1, I_2, I_3$</p>
        </div>
        
        <div class="card">
          <h4>⚡ Configuración del Circuito</h4>
          <div style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(16, 185, 129, 0.1)); padding: 20px; border-radius: 8px; margin: 15px 0;">
            <p style="font-size: 1.1rem; text-align: center; font-weight: bold;">Circuito con 3 mallas en serie-paralelo</p>
            <p style="text-align: center; margin-top: 10px;">
              <strong>Malla 1:</strong> $V_1$ con $R_1$ y $R_2$<br>
              <strong>Malla 2:</strong> Comparte $R_2$ con malla 1 y $R_4$ con malla 3, tiene $R_3$<br>
              <strong>Malla 3:</strong> $V_2$ con $R_4$ y $R_5$
            </p>
          </div>
        </div>

        <h3>⚙️ Aplicación de las Leyes de Kirchhoff (LVK)</h3>
        
        <div class="card">
          <div class="definition-box">
            <strong>Ley de Voltajes de Kirchhoff:</strong> La suma algebraica de voltajes en un lazo cerrado es cero.
            <p style="margin-top: 10px;">Al recorrer cada malla, sumamos caídas de voltaje (positivas) y fuentes (considerando polaridad).</p>
          </div>
          
          <div class="example-box">
            <strong>Ecuaciones por malla:</strong><br><br>
            
            <strong>Malla 1:</strong> Recorriendo en sentido horario
            $$V_1 - R_1I_1 - R_2(I_1 - I_2) = 0$$
            $$24 - 6I_1 - 4(I_1 - I_2) = 0$$
            $$24 - 6I_1 - 4I_1 + 4I_2 = 0$$
            $$-10I_1 + 4I_2 = -24$$
            
            <br><strong>Malla 2:</strong> Sin fuente de voltaje
            $$-R_2(I_2 - I_1) - R_3I_2 - R_4(I_2 - I_3) = 0$$
            $$-4(I_2 - I_1) - 8I_2 - 3(I_2 - I_3) = 0$$
            $$4I_1 - 15I_2 + 3I_3 = 0$$
            
            <br><strong>Malla 3:</strong> Con $V_2$
            $$-R_4(I_3 - I_2) - R_5I_3 + V_2 = 0$$
            $$-3(I_3 - I_2) - 5I_3 + 12 = 0$$
            $$3I_2 - 8I_3 = -12$$
          </div>
        </div>

        <h3>🔢 Sistema de Ecuaciones y Solución</h3>
        
        <div class="card">
          <div class="example-box">
            <strong>Sistema lineal resultante:</strong><br>
            $$\begin{cases}
            -10I_1 + 4I_2 + 0I_3 = -24 \\
            4I_1 - 15I_2 + 3I_3 = 0 \\
            0I_1 + 3I_2 - 8I_3 = -12
            \end{cases}$$<br><br>
            
            <strong>Forma matricial:</strong> $AX = B$<br><br>
            
            $$A = \begin{pmatrix}
            -10 & 4 & 0 \\
            4 & -15 & 3 \\
            0 & 3 & -8
            \end{pmatrix}, \quad
            X = \begin{pmatrix}
            I_1 \\
            I_2 \\
            I_3
            \end{pmatrix}, \quad
            B = \begin{pmatrix}
            -24 \\
            0 \\
            -12
            \end{pmatrix}$$
          </div>
        </div>

        <h3>✅ Solución por Gauss-Jordán</h3>
        
        <div class="card">
          <div class="example-box">
            <strong>Matriz aumentada inicial:</strong>
            $$\left[\begin{array}{ccc|c}
            -10 & 4 & 0 & -24 \\
            4 & -15 & 3 & 0 \\
            0 & 3 & -8 & -12
            \end{array}\right]$$
            
            <p style="margin: 15px 0;"><strong>Aplicando operaciones elementales...</strong></p>
            
            <strong>Forma escalonada reducida:</strong>
            $$\left[\begin{array}{ccc|c}
            1 & 0 & 0 & 3 \\
            0 & 1 & 0 & 1.5 \\
            0 & 0 & 1 & 2.0625
            \end{array}\right]$$
          </div>
        </div>

        <h3>🎯 Resultado e Interpretación</h3>
        
        <div class="card" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(59, 130, 246, 0.2));">
          <h4>⚡ Corrientes de Malla:</h4>
          <ul style="font-size: 1.2rem; line-height: 2.5; text-align: left;">
            <li><strong>$I_1 = 3.00$ A</strong> (Corriente en malla 1)</li>
            <li><strong>$I_2 = 1.50$ A</strong> (Corriente en malla 2)</li>
            <li><strong>$I_3 = 2.06$ A</strong> (Corriente en malla 3)</li>
          </ul>
          
          <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.5); border-radius: 8px;">
            <h4>📊 Interpretación Física:</h4>
            <ul style="text-align: left; font-size: 0.95rem; line-height: 1.8;">
              <li>✅ Todas las corrientes son positivas → sentido asumido correcto</li>
              <li>⚡ La corriente real en $R_2 = I_1 - I_2 = 1.5$ A</li>
              <li>⚡ La corriente real en $R_4 = I_2 - I_3 = -0.56$ A (sentido contrario)</li>
              <li>📈 Potencia disipada total = $\sum I^2R \approx 95.6$ W</li>
            </ul>
          </div>
          
          <p style="margin-top: 20px; color: var(--success); font-weight: bold; text-align: center;">
            ✅ Solución verificada: cumple ambas leyes de Kirchhoff
          </p>
        </div>

        <!-- Quiz interactivo caso práctico -->
        <div class="quiz-container">
          <h3>🧠 Autoevaluación - Caso Práctico</h3>
          
          <div class="quiz-question">
            1. En el análisis de mallas, cada ecuación representa:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">La Ley de Corrientes en un nodo</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">La Ley de Voltajes en una malla cerrada</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">La Ley de Ohm en una resistencia</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">La potencia total del circuito</div>
          </div>
          
          <div class="quiz-question">
            2. Si la corriente calculada es negativa, significa que:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">El sistema no tiene solución</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Hay un error en los cálculos</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">La corriente real va en sentido contrario al asumido</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">El circuito está mal diseñado</div>
          </div>
          
          <div class="quiz-question">
            3. La solución del sistema 3×3 se obtuvo mediante:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Método gráfico</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Método de Gauss-Jordán</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Sustitución directa</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Tanteo y error</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- SLIDE 7: BIBLIOGRAFÍA Y RECURSOS -->
  <div class="slide" id="slide-7">
    <div class="content-container">
      <div class="week-section">
        <div class="week-badge">Recursos</div>
        <h2>📚 Bibliografía y Recursos - Sistemas de Ecuaciones</h2>
        
        <h3>Textos Fundamentales</h3>
        
        <div class="card">
          <ul style="list-style: none; padding: 0;">
            <li style="margin: 20px 0; padding: 15px; background: rgba(100, 150, 250, 0.1); border-left: 4px solid var(--primary); border-radius: 8px;">
              <strong style="color: var(--primary); font-size: 1.1rem;">Álgebra Lineal y sus Aplicaciones</strong><br>
              <span style="color: var(--muted);">Autor: Lay, David C., Lay, Steven R. & McDonald, Judi J.</span><br>
              <span style="color: var(--muted);">Editorial: Pearson (5ª edición, 2016)</span><br>
              <em style="font-size: 0.9rem;">Capítulo 1: Sistemas de ecuaciones lineales y métodos de solución</em>
            </li>
            
            <li style="margin: 20px 0; padding: 15px; background: rgba(0, 212, 170, 0.1); border-left: 4px solid var(--secondary); border-radius: 8px;">
              <strong style="color: var(--secondary); font-size: 1.1rem;">Álgebra Lineal</strong><br>
              <span style="color: var(--muted);">Autor: Grossman, Stanley I.</span><br>
              <span style="color: var(--muted);">Editorial: McGraw-Hill (7ª edición, 2012)</span><br>
              <em style="font-size: 0.9rem;">Capítulos 1-2: Sistemas lineales, eliminación gaussiana y aplicaciones</em>
            </li>
            
            <li style="margin: 20px 0; padding: 15px; background: rgba(255, 214, 10, 0.1); border-left: 4px solid var(--accent); border-radius: 8px;">
              <strong style="color: var(--accent); font-size: 1.1rem;">Introducción al Álgebra Lineal</strong><br>
              <span style="color: var(--muted);">Autor: Anton, Howard & Rorres, Chris</span><br>
              <span style="color: var(--muted);">Editorial: Limusa Wiley (5ª edición, 2013)</span><br>
              <em style="font-size: 0.9rem;">Sección 1: Sistemas de ecuaciones lineales y matrices</em>
            </li>
            
            <li style="margin: 20px 0; padding: 15px; background: rgba(239, 68, 68, 0.1); border-left: 4px solid #ef4444; border-radius: 8px;">
              <strong style="color: #ef4444; font-size: 1.1rem;">Deep Learning</strong><br>
              <span style="color: var(--muted);">Autor: Goodfellow, I., Bengio, Y., & Courville, A.</span><br>
              <span style="color: var(--muted);">Editorial: MIT Press (2016)</span><br>
              <em style="font-size: 0.9rem;">Capítulo 2: Álgebra lineal aplicada a redes neuronales</em>
            </li>
          </ul>
        </div>

        <h3>💻 Software para Resolver Sistemas</h3>
        
        <div class="three-col">
          <div class="card">
            <h4 style="color: var(--primary);">🧮 MATLAB</h4>
            <p style="font-size: 0.95rem;">Funciones especializadas:</p>
            <ul style="text-align: left; font-size: 0.85rem; line-height: 1.8;">
              <li><code>linsolve(A,b)</code></li>
              <li><code>rref(A)</code> - Gauss-Jordán</li>
              <li><code>A\b</code> - Operador directo</li>
              <li><code>rank(A)</code> - Determinar soluciones</li>
            </ul>
          </div>
          
          <div class="card">
            <h4 style="color: var(--secondary);">🐍 Python + NumPy</h4>
            <p style="font-size: 0.95rem;">Librerías y funciones:</p>
            <ul style="text-align: left; font-size: 0.85rem; line-height: 1.8;">
              <li><code>np.linalg.solve(A,b)</code></li>
              <li><code>scipy.linalg.lu(A)</code></li>
              <li><code>sklearn.linear_model</code></li>
              <li>TensorFlow/PyTorch para IA</li>
            </ul>
          </div>
          
          <div class="card">
            <h4 style="color: var(--accent);">🔢 Wolfram Alpha</h4>
            <p style="font-size: 0.95rem;">Comandos útiles:</p>
            <ul style="text-align: left; font-size: 0.85rem; line-height: 1.8;">
              <li>"solve system"</li>
              <li>"row reduce matrix"</li>
              <li>"matrix inverse"</li>
              <li>Paso a paso completo</li>
            </ul>
          </div>
        </div>

        <h3>🌐 Recursos en Línea Especializados</h3>
        
        <div class="two-col">
          <div class="card">
            <h4>📺 Cursos y Videos</h4>
            <ul style="text-align: left; line-height: 1.8; font-size: 0.95rem;">
              <li><strong>3Blue1Brown</strong>: "Essence of Linear Algebra" - Capítulo sistemas lineales</li>
              <li><strong>Khan Academy</strong>: Sección completa de sistemas de ecuaciones</li>
              <li><strong>MIT OCW 18.06</strong>: Lectures 1-3 (Gilbert Strang)</li>
              <li><strong>Coursera</strong>: "Mathematics for Machine Learning"</li>
            </ul>
          </div>
          
          <div class="card">
            <h4>🛠️ Herramientas Interactivas</h4>
            <ul style="text-align: left; line-height: 1.8; font-size: 0.95rem;">
              <li><strong>Symbolab</strong>: Calculadora de sistemas con pasos</li>
              <li><strong>GeoGebra</strong>: Visualización geométrica</li>
              <li><strong>Desmos Matrix</strong>: Operaciones matriciales</li>
              <li><strong>Circuit Simulator</strong>: Análisis de circuitos online</li>
            </ul>
          </div>
        </div>

        <h3>📖 Referencias Adicionales por Tema</h3>
        
        <div class="card">
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
            <div style="padding: 12px; background: rgba(100, 150, 250, 0.05); border-radius: 8px;">
              <strong>Análisis de Circuitos:</strong><br>
              <span style="font-size: 0.9rem;">Circuitos Eléctricos - Dorf & Svoboda (9ª ed., 2015)</span>
            </div>
            
            <div style="padding: 12px; background: rgba(0, 212, 170, 0.05); border-radius: 8px;">
              <strong>Machine Learning:</strong><br>
              <span style="font-size: 0.9rem;">Pattern Recognition - Bishop (2006)</span>
            </div>
            
            <div style="padding: 12px; background: rgba(255, 214, 10, 0.05); border-radius: 8px;">
              <strong>Química:</strong><br>
              <span style="font-size: 0.9rem;">Química General - Petrucci (11ª ed., 2017)</span>
            </div>
            
            <div style="padding: 12px; background: rgba(239, 68, 68, 0.05); border-radius: 8px;">
              <strong>Optimización:</strong><br>
              <span style="font-size: 0.9rem;">Operations Research - Winston (4ª ed., 2004)</span>
            </div>
          </div>
        </div>

        <!-- Quiz interactivo final - Repaso general Unidad II -->
        <div class="quiz-container">
          <h3>🧠 Autoevaluación Final - Unidad II</h3>
          
          <div class="quiz-question">
            1. Un sistema AX = B tiene solución única si y solo si:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">A es rectangular</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">det(A) ≠ 0 y A es cuadrada</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">B es un vector nulo</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">A tiene todas entradas positivas</div>
          </div>
          
          <div class="quiz-question">
            2. En Machine Learning, las ecuaciones normales (X<sup>T</sup>X)β = X<sup>T</sup>y se usan para:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Clasificar imágenes directamente</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Resolver regresión lineal por mínimos cuadrados</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Calcular determinantes</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Entrenar redes convolucionales</div>
          </div>
          
          <div class="quiz-question">
            3. El método más eficiente computacionalmente para sistemas grandes es:
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Regla de Cramer</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Eliminación gaussiana (Gauss)</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Método gráfico</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Sustitución manual</div>
          </div>
          
          <div class="quiz-question">
            4. ¿Qué aplicación NO utiliza sistemas de ecuaciones lineales?
          </div>
          <div class="quiz-options">
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Análisis de circuitos eléctricos</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Redes neuronales artificiales</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'correct')">Filosofía moral</div>
            <div class="quiz-option" onclick="checkAnswer(this, 'incorrect')">Balanceo de reacciones químicas</div>
          </div>
        </div>

        <div class="card" style="background: var(--grad-primary); text-align: center; padding: 40px; margin-top: 40px;">
          <h2 style="color: white; font-size: 2rem; margin-bottom: 20px;">🎓 ¡Felicidades!</h2>
          <p style="color: white; font-size: 1.2rem; line-height: 1.8;">
            Has completado la Unidad II: Sistemas de Ecuaciones Lineales.<br>
            Ahora dominas los métodos fundamentales para resolver sistemas<br>
            y sus aplicaciones en ingeniería, ciencia e inteligencia artificial.
          </p>
          <p style="color: white; font-weight: bold; margin-top: 30px; font-size: 1.1rem;">
            Universidad del SABES - 2025
          </p>
        </div>
      </div>
    </div>
  </div>

</div>

<!-- ======= CONTROLES DE NAVEGACIÓN INFERIOR ======= -->
<div class="nav-controls" role="navigation" aria-label="Navegación de diapositivas">
  <button class="nav-btn" onclick="goToStart()" id="startBtn" aria-label="Ir al inicio">
    <span aria-hidden="true">⏮</span> Inicio
  </button>
  <button class="nav-btn" onclick="previousSlide()" id="prevBtn" aria-label="Diapositiva anterior">
    <span aria-hidden="true">◀</span> Atrás
  </button>
  <button class="nav-btn" onclick="nextSlide()" id="nextBtn" aria-label="Siguiente diapositiva">
    Adelante <span aria-hidden="true">▶</span>
  </button>
  <button class="nav-btn" onclick="goToEnd()" id="endBtn" aria-label="Ir al final">
    Fin <span aria-hidden="true">⏭</span>
  </button>
</div>

<!-- ======= JAVASCRIPT ======= -->
<script>
// ========== VARIABLES GLOBALES ==========
let currentSlide = 0;
let zoom = 1;
const totalSlides = document.querySelectorAll('.slide').length;

// Variable para verificar si MathJax está listo
window.mathJaxReady = false;

// Variables para Three.js
let scene, camera, renderer, cube, axes, grid;
let animationId = null;
let isAnimating = false;

// ========== INICIALIZACIÓN ==========
document.addEventListener('DOMContentLoaded', () => {
  showSlide(0);
  initializeParticles();
  initializeThreeJS();
  updateProgress();
  console.log('✅ Curso de Álgebra Lineal - Universidad del SABES');
  console.log('📊 Total de slides:', totalSlides);
});

// ========== NAVEGACIÓN ==========
function showSlide(index) {
  if (index < 0) index = 0;
  if (index >= totalSlides) index = totalSlides - 1;
  
  currentSlide = index;
  
  const slides = document.querySelectorAll('.slide');
  slides.forEach((slide, i) => {
    slide.classList.remove('active', 'previous');
    if (i < currentSlide) {
      slide.classList.add('previous');
    }
  });
  
  slides[currentSlide].classList.add('active');
  
  updateNavigationButtons();
  updateProgress();
  
  // Renderizar MathJax solo si está listo
  if (window.mathJaxReady && typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
    MathJax.typesetPromise([slides[currentSlide]]).catch((err) => console.log('MathJax error:', err));
  }
}

function goToSlide(index) {
  showSlide(index);
}

function nextSlide() {
  if (currentSlide < totalSlides - 1) {
    showSlide(currentSlide + 1);
  }
}

function previousSlide() {
  if (currentSlide > 0) {
    showSlide(currentSlide - 1);
  }
}

function goToStart() {
  showSlide(0);
}

function goToEnd() {
  showSlide(totalSlides - 1);
}

function updateNavigationButtons() {
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const startBtn = document.getElementById('startBtn');
  const endBtn = document.getElementById('endBtn');
  
  prevBtn.disabled = currentSlide === 0;
  startBtn.disabled = currentSlide === 0;
  nextBtn.disabled = currentSlide === totalSlides - 1;
  endBtn.disabled = currentSlide === totalSlides - 1;
}

function updateProgress() {
  const progressBar = document.getElementById('progress');
  const progressText = document.getElementById('userProgress');
  const progressContainer = document.querySelector('.progress-bar');
  const progress = ((currentSlide + 1) / totalSlides) * 100;
  
  progressBar.style.width = progress + '%';
  progressText.textContent = Math.round(progress) + '%';
  
  // Actualizar atributos ARIA
  if (progressContainer) {
    progressContainer.setAttribute('aria-valuenow', Math.round(progress));
    progressContainer.setAttribute('aria-valuetext', `Diapositiva ${currentSlide + 1} de ${totalSlides}`);
  }
}

// ========== BARRAS LATERALES ==========
document.getElementById('btn-home').onclick = () => goToStart();
document.getElementById('btn-prev').onclick = () => previousSlide();
document.getElementById('btn-next').onclick = () => nextSlide();

document.getElementById('btn-access').onclick = () => {
  document.getElementById('accessibilityModal').classList.add('active');
};

document.getElementById('btn-help').onclick = () => {
  alert('❓ Ayuda de Navegación:\n\n🖱️ Usa los botones laterales o inferiores\n⌨️ Teclas: ← Atrás | → Adelante\n🔍 Botones + y - para Zoom\n⛶ Pantalla completa disponible\n💬 Modal para más información');
};

// Tema
const themeBtn = document.getElementById('btn-theme');
const toggleTheme = () => {
  const html = document.documentElement;
  const currentTheme = html.getAttribute('data-theme');
  const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
  html.setAttribute('data-theme', newTheme);
  document.body.setAttribute('data-theme', newTheme);
  themeBtn.textContent = newTheme === 'dark' ? '☀️' : '🌙';
};
themeBtn.onclick = toggleTheme;

// Zoom
document.getElementById('btn-zoom-in').onclick = () => {
  zoom = Math.min(2, zoom + 0.1);
  document.body.style.transform = `scale(${zoom})`;
  document.body.style.transformOrigin = 'center top';
};

document.getElementById('btn-zoom-out').onclick = () => {
  zoom = Math.max(0.8, zoom - 0.1);
  document.body.style.transform = `scale(${zoom})`;
  document.body.style.transformOrigin = 'center top';
};

// Pantalla completa
document.getElementById('btn-fullscreen').onclick = () => {
  if (!document.fullscreenElement) {
    document.documentElement.requestFullscreen();
  } else {
    document.exitFullscreen();
  }
};

// Modal
document.getElementById('btn-modal').onclick = () => {
  document.getElementById('infoModal').classList.add('active');
};

function cerrarModal() {
  document.getElementById('infoModal').classList.remove('active');
}

function cerrarModalAccesibilidad() {
  document.getElementById('accessibilityModal').classList.remove('active');
}

document.getElementById('btn-info').onclick = () => {
  alert('ℹ️ Información del Curso:\n\n📚 Álgebra Lineal - Unidad I\n🎓 Universidad del SABES\n📅 2025\n\n✨ Proyecto educativo interactivo\n✅ Cumple WCAG 2.2 AA\n🌐 Diseño responsive');
};

document.getElementById('btn-exit').onclick = () => {
  if (confirm('❌ ¿Deseas salir de la presentación?')) {
    window.close();
  }
};

// ========== NAVEGACIÓN POR TECLADO ==========
document.addEventListener('keydown', (e) => {
  // Evitar navegación si hay un modal abierto (excepto Escape)
  const modalActive = document.querySelector('.modal.active');
  if (modalActive && e.key !== 'Escape') {
    return;
  }
  
  if (e.key === 'ArrowRight' || e.key === 'PageDown' || e.key === ' ' || e.key === 'Enter') {
    e.preventDefault();
    nextSlide();
  } else if (e.key === 'ArrowLeft' || e.key === 'PageUp') {
    e.preventDefault();
    previousSlide();
  } else if (e.key === 'Home') {
    e.preventDefault();
    goToStart();
  } else if (e.key === 'End') {
    e.preventDefault();
    goToEnd();
  } else if (e.key === 'Escape') {
    cerrarModal();
    cerrarModalAccesibilidad();
  } else if (e.key === 'f' || e.key === 'F') {
    e.preventDefault();
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen();
    } else {
      document.exitFullscreen();
    }
  } else if (e.key === '+' || e.key === '=') {
    e.preventDefault();
    zoom = Math.min(2, zoom + 0.1);
    document.body.style.transform = `scale(${zoom})`;
    document.body.style.transformOrigin = 'center top';
  } else if (e.key === '-' || e.key === '_') {
    e.preventDefault();
    zoom = Math.max(0.8, zoom - 0.1);
    document.body.style.transform = `scale(${zoom})`;
    document.body.style.transformOrigin = 'center top';
  } else if (e.key === '0') {
    e.preventDefault();
    zoom = 1;
    document.body.style.transform = `scale(${zoom})`;
    document.body.style.transformOrigin = 'center top';
  } else if (e.key >= '0' && e.key <= '7') {
    // Navegación directa a slides con teclas numéricas
    e.preventDefault();
    const slideNumber = parseInt(e.key);
    if (slideNumber < totalSlides) {
      goToSlide(slideNumber);
    }
  }
});

// ========== PARTÍCULAS ANIMADAS ==========
function initializeParticles() {
  const particlesContainer = document.getElementById('particles');
  if (!particlesContainer) return;
  
  for (let i = 0; i < 20; i++) {
    const particle = document.createElement('div');
    particle.className = 'particle';
    particle.style.left = Math.random() * 100 + '%';
    particle.style.animationDelay = Math.random() * 8 + 's';
    particle.style.animationDuration = (Math.random() * 4 + 6) + 's';
    particlesContainer.appendChild(particle);
  }
}

// ========== CALCULADORA MATRICIAL ==========
function calculateMatrixOperation(operation) {
  const a11 = parseFloat(document.getElementById('a11').value) || 0;
  const a12 = parseFloat(document.getElementById('a12').value) || 0;
  const a21 = parseFloat(document.getElementById('a21').value) || 0;
  const a22 = parseFloat(document.getElementById('a22').value) || 0;
  
  const b11 = parseFloat(document.getElementById('b11').value) || 0;
  const b12 = parseFloat(document.getElementById('b12').value) || 0;
  const b21 = parseFloat(document.getElementById('b21').value) || 0;
  const b22 = parseFloat(document.getElementById('b22').value) || 0;
  
  const resultDiv = document.getElementById('calculatorResult');
  
  let result = '';
  
  if (operation === 'add') {
    const r11 = a11 + b11;
    const r12 = a12 + b12;
    const r21 = a21 + b21;
    const r22 = a22 + b22;
    result = `$$A + B = \\begin{pmatrix}${r11} & ${r12} \\\\ ${r21} & ${r22}\\end{pmatrix}$$`;
  } else if (operation === 'multiply') {
    const r11 = a11 * b11 + a12 * b21;
    const r12 = a11 * b12 + a12 * b22;
    const r21 = a21 * b11 + a22 * b21;
    const r22 = a21 * b12 + a22 * b22;
    result = `$$A \\times B = \\begin{pmatrix}${r11} & ${r12} \\\\ ${r21} & ${r22}\\end{pmatrix}$$`;
  } else if (operation === 'determinant') {
    const det = a11 * a22 - a12 * a21;
    result = `$$\\det(A) = ${a11} \\cdot ${a22} - ${a12} \\cdot ${a21} = ${det}$$`;
  }
  
  resultDiv.innerHTML = result;
  
  // Renderizar MathJax solo si está listo
  if (window.mathJaxReady && typeof MathJax !== 'undefined' && MathJax.typesetPromise) {
    MathJax.typesetPromise([resultDiv]).catch((err) => console.log('MathJax error:', err));
  }
}

function updateCalculator() {
  // Actualización automática se puede implementar aquí si se desea
}

// ========== QUIZ INTERACTIVO ==========
function checkAnswer(element, type) {
  // Remover clases previas de todas las opciones del mismo quiz
  const options = element.parentElement.querySelectorAll('.quiz-option');
  options.forEach(opt => {
    opt.classList.remove('correct', 'incorrect');
    opt.style.pointerEvents = 'auto';
  });
  
  // Agregar clase según respuesta
  if (type === 'correct') {
    element.classList.add('correct');
    // Desactivar todas las opciones después de responder correctamente
    options.forEach(opt => {
      opt.style.pointerEvents = 'none';
    });
    setTimeout(() => {
      alert('✅ ¡Correcto! Excelente.\n\n💡 Has demostrado comprensión del tema.');
    }, 100);
  } else {
    element.classList.add('incorrect');
    setTimeout(() => {
      alert('❌ Incorrecto. \n\n📚 Te recomendamos revisar el contenido de esta semana.\n\n💪 ¡Inténtalo de nuevo!');
      // Remover la marca incorrecta para permitir otro intento
      setTimeout(() => {
        element.classList.remove('incorrect');
      }, 500);
    }, 100);
  }
}

// ========== BOTONES INFO ==========
function toggleInfo(infoId) {
  const infoBox = document.getElementById(infoId);
  if (infoBox) {
    infoBox.classList.toggle('active');
  }
}

// ========== THREE.JS - VISUALIZACIÓN 3D ==========
function initializeThreeJS() {
  const canvas = document.getElementById('threejs-canvas');
  if (!canvas) return;
  
  // Configurar escena
  scene = new THREE.Scene();
  scene.background = new THREE.Color(0x1a1f2e);
  
  // Configurar cámara
  camera = new THREE.PerspectiveCamera(75, canvas.parentElement.clientWidth / 400, 0.1, 1000);
  camera.position.set(5, 5, 5);
  camera.lookAt(0, 0, 0);
  
  // Configurar renderer
  renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });
  renderer.setSize(canvas.parentElement.clientWidth, 400);
  
  // Agregar luces
  const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
  scene.add(ambientLight);
  
  const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
  directionalLight.position.set(10, 10, 10);
  scene.add(directionalLight);
  
  // Crear cubo con geometría
  const geometry = new THREE.BoxGeometry(2, 2, 2);
  const material = new THREE.MeshPhongMaterial({ 
    color: 0x6496fa,
    transparent: true,
    opacity: 0.8
  });
  cube = new THREE.Mesh(geometry, material);
  scene.add(cube);
  
  // Agregar wireframe
  const wireframe = new THREE.WireframeGeometry(geometry);
  const line = new THREE.LineSegments(wireframe);
  line.material.color.setHex(0x00d4aa);
  line.material.linewidth = 2;
  cube.add(line);
  
  // Agregar ejes
  axes = new THREE.AxesHelper(4);
  scene.add(axes);
  
  // Agregar grid
  grid = new THREE.GridHelper(10, 10, 0x6496fa, 0x2a3142);
  scene.add(grid);
  
  // Iniciar animación
  animate3D();
}

function animate3D() {
  animationId = requestAnimationFrame(animate3D);
  
  if (cube && !isAnimating) {
    cube.rotation.x += 0.005;
    cube.rotation.y += 0.005;
  }
  
  if (renderer && scene && camera) {
    renderer.render(scene, camera);
  }
}

function animateTransformation(type) {
  if (!cube) return;
  
  isAnimating = true;
  let progress = 0;
  const duration = 2000; // 2 segundos
  const startTime = Date.now();
  
  const originalScale = { x: 1, y: 1, z: 1 };
  const originalRotation = { x: cube.rotation.x, y: cube.rotation.y, z: cube.rotation.z };
  
  function animateStep() {
    const currentTime = Date.now();
    progress = Math.min((currentTime - startTime) / duration, 1);
    
    if (type === 'rotation') {
      cube.rotation.y = originalRotation.y + progress * Math.PI * 2;
    } else if (type === 'scaling') {
      const scale = 1 + Math.sin(progress * Math.PI) * 0.5;
      cube.scale.set(scale, scale, scale);
    } else if (type === 'shear') {
      cube.rotation.x = originalRotation.x + Math.sin(progress * Math.PI * 2) * 0.5;
    }
    
    if (progress < 1) {
      requestAnimationFrame(animateStep);
    } else {
      isAnimating = false;
    }
  }
  
  animateStep();
}

function resetTransformation() {
  if (!cube) return;
  cube.rotation.set(0, 0, 0);
  cube.scale.set(1, 1, 1);
  cube.position.set(0, 0, 0);
}

// Redimensionar canvas cuando cambia el tamaño de la ventana
window.addEventListener('resize', () => {
  const canvas = document.getElementById('threejs-canvas');
  if (canvas && renderer && camera) {
    const width = canvas.parentElement.clientWidth;
    const height = 400;
    renderer.setSize(width, height);
    camera.aspect = width / height;
    camera.updateProjectionMatrix();
  }
});
</script>

</body>
</html>